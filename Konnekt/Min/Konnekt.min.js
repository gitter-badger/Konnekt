var Konnekt=function(){var V=function(){return function(x,t,P,q){function w(b,c,g,e){b=void 0===b?{}:b;var k={};if("undefined"===typeof Proxy)return console.error("There is no support for proxies! This library can not be used here, please update Your js library or browser");var h=new Proxy(k,{set:R,deleteProperty:y}),u=Object.keys(b,"all");Object.defineProperties(k,{__kbname:d("string"===typeof c?c:"default",!0,!0),__kbref:d(g?g.__kbref||g:h,!0,!0),__kbscopeString:d(e||"",!0,!0),__kbImmediateParent:d(g||
null,!0,!0),__kbsubscribers:d({}),__kblisteners:d({}),__kbupdatelisteners:d({}),__kbparentlisteners:d({}),__kbparentupdatelisteners:d({}),__kbcreatelisteners:d([]),__kbdeletelisteners:d([]),__kbparentcreatelisteners:d([]),__kbparentdeletelisteners:d([]),__kbpointers:d({}),__kbevents:d(G),length:d(0,!0),__kbnonproxy:d(k,!1,!0),_stopChange:d(!1,!0)});c=0;for(g=u.length;c<g;c++)h[u[c]]=b[u[c]];k.__proto__=w.prototype;k.addActionListener("addlistener",function(c){if("string"===typeof c.arguments[0]&&
void 0!==c.local.__kbpointers[c.arguments[0]])c.local.__kbpointers[c.arguments[0]][c.arguments[2]](c.arguments[0],c.arguments[1])}).addActionListener("removelistener",function(c){if("string"===typeof c.arguments[0]&&void 0!==c.local.__kbpointers[c.arguments[0]])c.local.__kbpointers[c.arguments[0]][c.arguments[2]](c.arguments[0],c.arguments[1])});return h}function B(b,c,g,e,k,h,u,m){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=
b;this.key=c;this.arguments=h;this.type=this.event=g;this.listener=u;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.___kbImmediateParent;this.value=e;this.oldValue=k;this.stopChange=m}function d(b,c,g){return{value:b,writable:!!c,enumerable:!1,configurable:!!g}}function L(b,c,g){return{get:function(){return b.call(this)},set:function(g){c&&(b=g)},enumerable:!1,configurable:!!g}}function O(b,c){var g=c,e=c;return{get:function(){return g},set:function(c){var h=new B(this,
b,"set",c,g,arguments,"__kblisteners",this._stopChange);!0!==l(h)&&(e=g,g=c,h.stopChange||(h.listener="__kbupdatelisteners",h.type="postset",l(h)),this._stopChange||this.callSubscribers(b,g,e));this._stopChange=!1},configurable:!0,enumerable:!0}}function N(b,c,g){return{get:function(){return b[c]},set:function(g){(this._stopChange?b.stopChange():b)[c]=g;this._stopChange=!1},enumerable:g.enumerable,configurable:g.configurable}}function D(b,c){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},
{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],e=[],k,h=0,u=g.length;h<u;h++)if(k=b[g[h].listener],H.call(k))for(var e=Object.keys(k),m=0,r=e.length;m<r;m++)for(var f=0,d=k[e[m]].length;f<d;f++)c[g[h].method](e[m],k[e[m]][f]);else for(m=0,r=k.length;m<r;m++)c[g[h].method](k[m])}function M(b,c){var g=[{listeners:"__kblisteners",method:"addDataListener"},
{listeners:"__kbupdatelisteners",method:"addDataUpdateListener"}],e=[],k;if(b[c].__kbImmediateParent)for(var h=0,u=g.length;h<u;h++){k=b[g[h].listener];for(var e=Object.keys(k),m=0,r=e.length;m<r;m++)if(c===e[h])for(var f=0,d=k[e[h]].length;f<d;f++)void 0===b[c].__kbImmediateParent[g[h].listener][c]&&(b[c].__kbImmediateParent[g[h].listener][c]=[]),b[c].__kbImmediateParent[g[h].listener][c].push(k[e[h]][f])}D(b,b[c])}function J(b,c,g,e){g=new w(g,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?
".":"")+c);D(b,g);if(e){e=new B(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange);var k=l(e);!0!==k&&(Object.defineProperty(b,c,O(c,g)),e.listener="__kbupdatelisteners",e.type="postcreate",l(e));return!0!==k}Object.defineProperty(b,c,O(c,g));return!0}function Q(b,c,g,e){if(e){e=new B(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange);var k=l(e);if(!0!==k){var h=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,c);Object.defineProperty(b,c,N(g.__kbImmediateParent,c,h));b.__kbpointers.push(c);
M(b,c);e.listener="__kbupdatelisteners";e.type="postcreate";l(e)}return!0!==k}h=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,c);Object.defineProperty(b,c,N(g.__kbImmediateParent,c,h));b.__kbpointers.push(c);M(b,c);return!0}function R(b,c,g){if(E.call(b,c)){if("length"===c)if(g>b.length&&void 0!==b[g-1])b.length=g;else{if(g<b.length){c=g;for(var e=b.length;c<e;c++)b[c]&&delete b[c];b.length=g}}else{if("object"===typeof g)return J(b,c,g);if(g instanceof w)return Q(b,c,g);b[c]=g}return!0}isNaN(parseInt(c,
10))||(c=parseInt(c,10),b.length<=c&&(b.length=c+1));if(b._stopChange||"_stopChange"===c)return b[c]=g,!0;if(-1===K.indexOf(c)){if("object"===typeof g)return J(b,c,g,!0);if(g instanceof w)return Q(b,c,g,!0);var e=new B(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange),k=l(e);!0!==k&&(Object.defineProperty(b,c,O(c,g)),e.listener="__kbupdatelisteners",e.type="postcreate",l(e));return!0!==k}}function y(b,c){var g=new B(b,c,"delete",b[c],void 0,[],"__kbdeletelisteners",b._stopChange),e=l(g);
!0!==e&&("object"===typeof b[c]&&(b[c]=null),delete b[c],g.listener="__kbupdatelisteners",g.type="postdelete",l(g));return!0!==e}function H(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isObject to check"):"object"===Object.prototype["typeof"](void 0!==b?"object"===typeof b?b:this[b]:this)}function I(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isArray to check"):"array"===Object.prototype["typeof"](void 0!==
b?"object"===typeof b?b:this[b]:this)}function p(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isMixed to check"):"mixed"===Object.prototype["typeof"](void 0!==b?"object"===typeof b?b:this[b]:this)}function E(b,c){if(this==Object.prototype&&void 0===b&&void 0===c)return console.error("No object and property specified in Object.prototype.isObservable to check");if(void 0===b)return console.error("No property specified in isObservable to check");
var g=Object.getOwnPropertyDescriptor(void 0!==b&&"string"!==typeof b?b:this,void 0!==c?c:b);return g?void 0===g.value:!1}function v(b){return b.split(".")}function A(b,c){return function(g,e){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=this[c],h=new B(this,c,"addlistener",k,void 0,arguments,"");"string"===typeof g&&1!==v(g).length&&(k=v(g),k.pop(),k.join("."),h.local=this.getLayer(k),k=h.local[c],h.value=k,g=v(g).pop());!0!==l(h)&&(H.call(k)?(void 0===k[g]&&(k[g]=[]),
k[g].push(e),h.type="postaddlistener",l(h)):I.call(k)&&"function"===typeof g&&(k.push(g),h.type="postaddlistener",l(h)));return this}}function F(b,c){return function(g,e){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=this[c],h=new B(this,c,"removelistener",k,void 0,arguments,"");"string"===typeof g&&1!==v(g).length&&(k=v(g),k.pop(),k.join("."),h.local=this.getLayer(k),k=h.local[c],h.value=k,g=v(g).pop());if(!0!==l(h))if(H.call(k)){if(void 0!==k[g])for(var u=0,m=k[g].length;u<
m;u++)if(k[g][u].toString()===e.toString()){k[g].splice(u,1);h.type="postremovelistener";l(h);break}}else if(I.call(k)&&"function"===typeof g)for(u=0,m=k.length;u<m;u++)if(k[u].toString()===e.toString()){k.splice(u,1);h.type="postremovelistener";l(h);break}return this}}function z(b,c){function g(c,b,h){var u=Object.keys(this,"all").filter(function(c){return p.call(this[c])}.bind(this)),m=this,r=c;"string"===typeof c&&1!==v(c).length&&(m=v(c),r=m.pop(),m.join("."),m=this.getLayer(m),void 0===m[h][c]&&
(m[h][c]=[]),m[h][c].push(b));H.call(m[h])?(void 0===m[h][r]&&(m[h][r]=[]),m[h][r].push(b),void 0!==m.__kbpointers[r]&&(void 0===m.__kbpointers[r][r]&&(m.__kbpointers[r][r]=[]),m.__kbpointers[r][r].push(_func))):m[h].push(b);r=0;for(m=u.length;r<m;r++)g.call(this[u[r]],c,b,h)}return function(e,k){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new B(this,c,"addchildlistener",void 0,void 0,arguments,"");!0!==l(h)&&(g.call(this,e,k,c),h.type="postaddchildlistener",l(h));return this}}
function f(b,c){function g(c,b,h){var u=Object.keys(this,"all").filter(function(c){return p.call(this[c])}.bind(this)),m=this,r=c;if("string"===typeof c&&1!==v(c).length&&(m=v(c),r=m.pop(),m.join("."),m=this.getLayer(m),void 0!==m[h][c]))for(var f=0,d=m[h][c].length;f<d;f++)if(m[h][c][f].toString()===b.toString()){m[h][c].splice(f,1);break}if(H.call(m[h])){if(void 0!==m[h][r]){f=0;for(d=m[h][r].length;f<d;f++)if(m[h][r][f].toString()===b.toString()){m[h][r].splice(f,1);break}if(-1!==m.__kbpointers.indexOf(r)&&
void 0!==m[r].__kbImmediateParent[h][r])for(f=0,d=m[r].__kbImmediateParent[h][r].length;f<d;f++)if(m[r].__kbImmediateParent[h][r][f].toString()===b.toString()){m[r].__kbImmediateParent[h][r].splice(f,1);break}}}else for(f=0,d=m[h].length;f<d;f++)if(m[h][f].toString()===b.toString()){m[h].splice(f,1);break}f=0;for(d=u.length;f<d;f++)g.call(this[u[f]],c,b,h)}return function(e,k){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new B(this,c,"removechildlistener",void 0,void 0,
arguments,"");!0!==l(h)&&(g.call(this,e,k,c),h.type="postremovechildlistener",l(h));return this}}var G={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},
K=["__proto__"],n=function(b,c){if(!c._stopPropogration&&b)for(var g=0,e=b.length;g!==e&&(b[g](c),!c._stopPropogration);g++);},l=function(b){if(b.listener){var c=b.local[b.listener],g=b.local[b.listener.replace("__kb","__kbparent")];H.call(c)?(n(c[b.key],b),n(c["*"],b)):n(c,b);H.call(g)?(n(g[b.key],b),n(g["*"],b)):n(g,b)}n(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault};Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);
Object.prototype.toString=function(){return this instanceof w?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(b){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};Object.defineProperties(Object.prototype,{"typeof":d(function(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},!1,!0),sizeof:d(function(b){function c(b){for(var k=Object.keys(b,"all"),h=0,u=
void 0,m=0,r=k.length;m<r;m++)u=b[k[m]],"object"===typeof u&&void 0!==u&&null!==u?-1===g.indexOf(u)&&(g.push(u),h+=c(u)):"string"===typeof u?h+=2*u.length:"number"===typeof u?h+=8:"boolean"===typeof u?h+=4:"function"===typeof u&&(h+=2*u.toString().length),h+=2*k[m].length;return h}if(this==Object.prototype&&void 0===b)return console.error("No object specified in Object.prototype.sizeof");var g=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:d(H,!1,!0),isArray:d(I,!1,!0),isMixed:d(p,
!1,!0),isObservable:d(E,!1,!0),stringify:d(function(b){if(this==Object.prototype&&void 0===b)return console.error("No object was specified in Object.prototype.stringify to stringify");var c=[];return JSON.stringify(this,function(b,e){if(I(e)||H(e)){if(-1!==c.indexOf(e))return;c.push(e)}return e})},!1,!0),getKeys:d(function(b,c){return this==Object.prototype&&void 0===b?console.error("No object was specified in Object.prototype.getkeys"):Object.keys(void 0!==b&&"string"!==typeof b?"object"===typeof b?
b:this[b]:this)},!1,!0),getIndexes:d(function(b){if(this==Object.prototype&&void 0===b)return console.error("No object was specified in Object.prototype.getIndexes");var c=void 0!==b?"object"===typeof b?b:this[b]:this;return c.slice().map(function(c,b){return b}).filter(function(b){return void 0!==c[b]})},!1,!0),keyCount:L(function(){return this.getKeys("o").length},!1,!0),indexCount:L(function(b){return this.length},!1,!0),count:L(function(b){return this.keyCount+this.indexCount},!1,!0)});Object.defineProperties(w.prototype,
{concat:d(Array.prototype.concat),every:d(Array.prototype.every),filter:d(Array.prototype.filter),find:d(Array.prototype.find),findIndex:d(Array.prototype.findIndex),forEach:d(Array.prototype.forEach),includes:d(Array.prototype.includes),indexOf:d(Array.prototype.indexOf),join:d(Array.prototype.join),lastIndexOf:d(Array.prototype.lastIndexOf),map:d(Array.prototype.map),reduce:d(Array.prototype.reduce),reduceRight:d(Array.prototype.reduceRight),slice:d(Array.prototype.slice),some:d(Array.prototype.some),
entries:d(Array.prototype.entries),toLocaleString:d(Array.prototype.toLocaleString),add:d(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());"undefined"===g[b]&&(g[b]=c);return this}),set:d(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());g[b]=c;return this}),get:d(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",
this,b)}),del:d(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());c&&void 0!==c[b]&&delete this[b];return this}),exists:d(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());return c?void 0!==c[b]:!!c}),addPrototype:d(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===g[b]?Object.defineProperty(g.__proto__,b,d(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,g);return this}),addPointer:d(function(b,c){b instanceof w||(b=new w(b,b.__kbname,b,""));var g=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(this,c,N(b,c,g));this.__kbpointers[c]=b}),move:d(function(b,c){this[c]=b[c];b instanceof w||(b[c]=null);delete b[c];return this}),copy:d(function(b,c){this[c]=b[c];return this}),merge:d(function(b){function c(b,k){for(var h=b instanceof w?b.keys("o"):Object.keys(b),u,m=0,r=h.length;m<r;m++)u=b[h[m]],"object"===typeof u&&-1===g.indexOf(u)&&"undefined"!==
k[h[m]]?c(u,k):k[h[m]]=u}var g=[];c(b,this);return this}),copyWithin:d(function(b,c,g){c=c||0;g=g||0;var e=new B(this,b,"copyWithin",this[b],void 0,arguments,"");if(!0!==l(e)&&b<this.length){b=0>b?this.length-1:b;c=c<this.length?c:this.length-1;g=g<this.length?g:this.length-1;c=0>c?this.length-1:c;g=0>c?this.length-1:g;for(var k=c;k<=g;k++)this[b+(k-c)]=this[k];e.type="postcopyWithin";l(e)}return this}),fill:d(function(b,c,g){c=void 0!==c?Math.max(0,c):0;g=void 0!==g&&g<=this.length?Math.min(this.length,
Math.max(0,g)):this.length;var e=new B(this,_start,"fill",this[_start],void 0,arguments,"");if(!0!==l(e)){for(var k=a.key;k<g;k++)this[k]=b;e.type="postfill";l(e)}return this}),pop:d(function(){var b=new B(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"");if(!0!==l(b)){var c=this[this.length-1];--this.length;b.type="postpop";l(b);return c}return null}),push:d(function(b){var c=new B(this,this.length,"push",b,void 0,arguments,"");!0!==l(c)&&(this[this.length]=b,c.type="postpush",l(c));
return this.length}),reverse:d(function(){var b=new B(this,void 0,"reverse",void 0,void 0,arguments,"");if(!0!==l(b)){for(var c=this.slice().reverse(),g=0,e=this.length;g<e;g++)this[g]=c[g];b.type="postreverse";l(b)}return this}),shift:d(function(){var b=new B(this,0,"shift",this[0],void 0,arguments,"");if(!0!==l(b)){for(var c=a.key,g=this.length-1;c<g;c++)this[c]=this[c+1];--this.length;b.type="postshift";l(b)}return null}),sort:d(function(){var b=new B(this,void 0,"sort",void 0,void 0,arguments,
"");if(!0!==l(b)){for(var c=this.slice(),c=c.sort.apply(c,arguments),g=0,e=this.length;g<e;g++)this[g]=c[g];b.type="postsort";l(b)}return this}),splice:d(function(b,c,g){var e=new B(this,b,"splice",void 0,void 0,arguments,"");if(!0!==l(e)){var k=[],h=Array.prototype.slice.call(arguments,2),u=h.length-2,m=0;if(0!==c&&void 0!==this[b-1+c])for(var r=0,f=c;r<f;r++){k.push(this[b+r]);for(var d=b+r,G=this.length-1;d<G;d++)this[d]=this[d+1];delete this[this.length-1]}if(0!==u)for(r=0,f=u;r<f;r++){m=b+Math.min(1,
r);d=this.length;for(G=m;d>G;d--)this[d]=this[d-1];this[m]=h[r]}e.type="postsplice";e.listener="";l(e);return k}return[]}),unshift:d(function(){var b=new B(this,0,"unshift",this[0],void 0,arguments,"");if(!0!==l(b)){for(var c=Array.prototype.slice.call(arguments),g=this.length-1+c.length,e=c.length;-1!==g;g--)this[g]=g<e?c[g]:this[g-c.length];b.type="postunshift";l(b)}return this.length}),getLayer:d(function(b){function c(b){var e=b[0];return void 0===this[e]&&0!==b.length-1?null:p(this[e])?0!==b.length-
1?(b.shift(),c.call(this[e],b)):this[e]:this}b=v(b);return c.call(this,b)}),setLayer:d(function(b){function c(b){var e=b[0];void 0===this[e]&&0!==b.length-1&&(this[e]=w({},this.__kbname,this,this.__kbscopeString+"."+e));return p(this[e])?0!==b.length-1?(b.shift(),c.call(this[e],b)):this[e]:this}b=v(b);return c.call(this,b)}),ignoreCreate:d(function(b){-1===K.indexOf(b)&&K.push(b);return this}),addActionListener:d(function(b,c){void 0!==this.__kbref.__kbevents[b]&&this.__kbref.__kbevents[b].push(c);
return this}),removeActionListener:d(function(b,c){if(void 0!==this.__kbref.__kbevents[b])for(var g=0,e=this.__kbref.__kbevents[b];g<e;g++)if(this.__kbref.__kbevents[b][g].toString()===c.toString()){this.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:d(function(b,c){void 0===this.__kbsubscribers[b]&&(this.__kbsubscribers[b]=[]);this.__kbsubscribers[b].push(c);return this}),unsubscribe:d(function(b,c){if(void 0!==this.__kbsubscribers[b])for(var g=0,e=this.__kbsubscribers[b].length;g<
e;g++)if(this.__kbsubscribers[b][g].toString()===c.toString()){this.__kbsubscribers[b].splice(g,1);break}return this}),callSubscribers:d(function(b,c,g){if(void 0!==this.__kbsubscribers[b])for(var e=0,k=this.__kbsubscribers[b].length;e<k;e++)this.__kbsubscribers[b].call(this,b,c,g);return this}),stopChange:d(function(){this._stopChange=!0;return this})});Object.defineProperties(w.prototype,{addDataListener:d(A("addDataListener","__kblisteners")),removeDataListener:d(F("removeDataListener","__kblisteners")),
addDataUpdateListener:d(A("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:d(F("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:d(A("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:d(F("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:d(A("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:d(F("removeDataDeleteListener","__kbdeletelisteners")),addChildDataListener:d(z("addChildDataListener",
"__kbparentlisteners")),removeChildDataListener:d(f("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:d(z("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:d(f("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:d(z("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:d(f("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:d(z("addChildDataDeleteListener",
"__kbparentdeletelisteners")),removeChildDataDeleteListener:d(f("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return w}}(),W=function(){return function(){function x(q){if("object"===typeof q)for(var w=0,B=q.length;w<B;w++)K_Components[q[w]]?t(q[w],K_Components[q[w]],document.getElementById("script_"+q[w])):x.load(q[w],"component/"+q[w]+"/"+location.search,t);else"string"===typeof q&&(K_Components[q[w]]?t(q,K_Components[q],document.getElementById("script_"+q)):x.load(q,"component/"+
q+"/"+location.search,t))}var t=function(){},P=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});x.getUnknowns=function(q){var w=q.match(P);return w.map(function(q){return q.replace(/[<\/>]/g,"")}).filter(function(q,d){return document.createElement(q)instanceof HTMLUnknownElement&&-1===w.indexOf(q,d+1)&&!K_Components[q]})};x.load=function(q,w,t){document.head.appendChild(function(d,q,w){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=q;t.id=
"script_"+d;t.onload=function(){w(d,K_Components[d],this)};return t}(q,w,t));return x};x.onLoad=function(q){if(void 0===q)return t;t="function"===typeof q?q:t;return x};return x}}(),X=function(x){return function(){function t(f){this.name=f.tagName.toLowerCase();this.template=p[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=f;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;
this.wrapper.innerHTML=this.template;this.fragment.appendChild(this.wrapper);this.maps=this.map(this.wrapper);this.wrapper.kb_maps=this.maps}function P(f,G,p,n,l,b,c,g){function e(c){var b=R(c),g=this;this.key="for"!==G?J(c):b[0];this.filterNames=Q(c);this.component="for"!==G?b[1]:void 0;this.id=0;this.__proto__.bindText=this.__proto__.bindText.map(function(b){return b===c?this:b});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:y("",!0)});
this.__proto__.updateData=function(c){g.isConnected&&g._data&&("string"===typeof c&&(c={value:c}),"function"===typeof g._data.stopChange&&g._data.stopChange().set(g.key,c.value))};this.__proto__.updateDom=function(c){g.isSynced()&&(g.element.stopChange(),"string"===typeof c&&(c={value:c}),g.value=c.value)}}Object.defineProperties(e.prototype,{valget:y(q),valset:y(w),refresh:y(d),connect:y(L),deleteMap:y(O),unsync:y(N),isSynced:y(B),type:y(G),text:y(p,!0),bindText:y(n,!0),bindNames:y(M(n),!0),bindListener:y(l),
bindProperty:y(b),bindTarget:y(c,!0),element:y(g,!0),_data:y({},!0),filters:y({},!0),maps:y(f,!0)});return e}function q(){return this._value}function w(f){this._value="string"===typeof f&&this.isSynced()?f:this._value;this.refresh()}function B(){return this.element.parentElement?!!this.element.parentElement:this.unsync()}function d(){var f=this;"for"!==this.type&&(this.bindTarget[this.bindProperty]=this.bindText.reduce(function(d,p){return d+("string"===typeof p?p:0===p.filterNames.length?p._value:
p.filterNames.reduce(function(d,l){if(void 0!==f.filters){if(void 0!==f.filters[l])return f.filters[l](d);console.warn("there is no filter by the name %o in the data model filters %o",l,Object.keys(f.filters));return d}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return d},p._value))},""));return this}function L(f){this._data=f;this.filters=void 0!==f.filters?f.filters:this.filters;f=0;for(var d=this.bindNames.length;f<d;f++)this._data.addDataUpdateListener&&
(this._data.exists(this.bindNames[f])||this._data.add(this.bindNames[f],this._value),this.value=this._data.get(this.bindNames[f]),"component"!==this.type&&(this.isConnected=!0,this._data.addDataUpdateListener(this.bindNames[f],this.updateDom),"for"===this.type&&console.log("run for type event listeners")));1!==this.bindText.length||"text"!==this.type&&"attribute"!==this.type||this.element.addAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);return this}function O(){this.maps[this.key].splice(this.id,
1);return this}function N(){for(var f=0,d=this.bindNames.length;f<d;f++)this._data.removeDataUpdateListener&&this._data.removeDataUpdateListener(this.bindNames[f],this.updateDom);this.element.removeAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);this.maps=this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;
this.__proto__.element=null;this.__proto__.maps=null;return!1}function D(f){return f.split(new RegExp("("+v.split("").join("\\")+")(.*?)("+A.split("").join("\\")+")","g")).map(function(f,d,p){return p[d-1]===v?v+f+A:f}).filter(function(f,d,p){return 0!==f.length&&f!==v&&f!==A&&0!==f.length})}function M(f){return f.filter(function(f){return-1!==f.indexOf(v)&&-1!==f.indexOf(A)}).map(function(f){return J(f)})}function J(f){return f.replace(new RegExp("["+v+A+"]","g"),"").replace(new RegExp("\\"+F.split("").join("\\")+
"(.*)"),"").replace(/\s/g,"")}function Q(f){return-1!==f.indexOf(F)?f.replace(new RegExp("["+A+"]","g"),"").replace(new RegExp("(.*?)(\\"+F.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function R(f){return-1!==f.indexOf("for")?f.replace(new RegExp("["+v+A+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(f){return 0!==f.length}):[]}function y(f,d,p){return{value:f,writable:!!d,enumerable:!1,configurable:!!p}}function H(f,d){for(var p=z[f],n=
0,l=p.length;n<l&&(p[n](d),d._stopPropogation);n++);return d._preventDefault}function I(f){var d=f.match(E).map(function(f){return f.replace(/[<\/>]/g,"")});d.filter(function(f,n){return document.createElement(f)instanceof HTMLUnknownElement&&-1===d.indexOf(f,n+1)&&void 0===p[f]});0!==d.length&&H("unknown",new Event("unknown",d));return d}var p={},E=/(<\/.*?>)/g;x().call();var v="{{",A="}}",F="|",z={unknown:[]};t.prototype.map=function(f){function d(n){for(var l=0,b=n.length;l<b;l++)if(void 0===n[l].kb_maps){n[l].kb_mapper=
f;if(3===n[l].nodeType){var c=n[l],g=p,e=c.textContent,k=c.parentElement instanceof HTMLUnknownElement;if(e.match(new RegExp("(\\"+v.split("").join("\\")+")(.*?)(\\"+A.split("").join("\\")+")","g")))for(var h=k?"component":-1!==e.indexOf("for")&&void 0!==e.indexOf("loop")?"for":"text",c=P(g,h,e,D(e),k?"":"textContent","textContent",c,c.parentElement),e=0,k=c.prototype.bindText.length;e<k;e++)0===c.prototype.bindText[e].indexOf(v)&&(h=new c(c.prototype.bindText[e]),c.prototype.bindText[e]=h,void 0===
g[h.key]&&(g[h.key]=[]),h.id=g[h.key].length,g[h.key].push(h))}else for(var g=n[l],c=p,e=g.attributes,k=g instanceof HTMLUnknownElement,h=0,u=e.length;h<u;h++)if(e[h].value.match(new RegExp("(\\"+v.split("").join("\\")+")(.*?)(\\"+A.split("").join("\\")+")","g")))for(var m=P(c,k?"component":"attribute",e[h].value,D(e[h].value),k?"":e[h].name,"value",e[h],g),r=0,U=m.prototype.bindText.length;r<U;r++)if(0===m.prototype.bindText[r].indexOf(v)){var S=new m(m.prototype.bindText[r]);m.prototype.bindText[r]=
S;void 0===c[S.key]&&(c[S.key]=[]);c[S.key].push(S)}n[l].childNodes&&0!==n[l].childNodes.length&&d(n[l].childNodes)}}var p={};d(f.childNodes);return p};t.prototype.addFilter=function(f,d){void 0!==this.maps[f]&&this.maps[f].forEach(function(f){f.filters.push(d)});return this};t.prototype.removeFilter=function(f,d){void 0!==this.maps[f]&&this.maps[f].forEach(function(p){p.filters.splice(this.maps[f].filters.indexOf(d),1)});return this};t.prototype.swapFilter=function(f,d,p){void 0!==this.maps[f]&&
this.maps[f].forEach(function(n){n.filters.splice(this.maps[f].filters.indexOf(d),1,p)});return this};Object.defineProperties(t,{startChars:y(function(f){if(void 0===f)return v;v="string"===typeof f?f:v;return this}),endChars:y(function(f){if(void 0===f)return A;A="string"===typeof f?f:A;return this}),pipeChars:y(function(f){if(void 0===f)return F;F="string"===typeof f?f:F;return this}),getUnknown:y(I),isRegistered:y(function(f){return void 0!==p[f]}),register:y(function(f,d){void 0===p[f]?(p[f]=
d,I(d)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",f);return this}),addEventListener:y(function(f,d){void 0!==z[f]?z[f].push(d):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",f);return this}),removeEventListener:y(function(f,d){if(void 0!==z[f])for(var p=0,n=z[f].length;p<n;p++)z[f][p].toString()===d.toString()&&z[f].splice(p,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",
f);return this})});return t}}(function(){function x(){function t(c,b){var e=c.length,k;for(k=0;k<e&&(c[k](b),void 0===b._stopPropogation);k++);}function x(c,b){var e=c.length,k;for(k=0;k<e&&(b.child=b.target,b.target=c[k].parent,c[k].func(b),void 0===b._stopPropogation);k++);}function q(c,b){for(var e=c.length;0<e;n++)if(c[n].toString()===b.toString())return!0;return!1}function w(c,b,e,k,h,f,d,r){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=e;this.oldValue=k;this.target=c;this.attr=b;this.arguments=h;this.action=f;this.child=void 0;this.type=d;this.stopChange=r}function B(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function d(c,b,e,k){var h=c.get,f=c.set,d;return function(c){d=h.call(this);e(this,b,c,d,void 0,
this._stopChange)&&f.call(this,c);this._stopChange||k(this,b,c,d);this._stopChange=void 0}}function L(c,b,e,k){var h;return function(f){h=c.value;e(this,b,f,h,arguments,this._stopChange)&&(c.value=f);this._stopChange||k(this,b,f,h,arguments);this._stopChange=void 0}}function O(c,b,e,k){var h=c.value,f;return function(){e(this,b,null,null,arguments,this._stopChange)&&(f=h.apply(this,arguments));this._stopChange||k(this,b,null,null,arguments,f);this._stopChange=void 0;return f}}function N(c,b,e,k,h){var f=
h.style,d=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),r,p;return{get:function(){return p},set:function(c){r=p;e(h,b,c,r,void 0,this._stopChange)&&(p=c,f.setProperty(d,c));this._stopChange||k(h,b,c,r);this._stopChange=void 0},enumerable:!0,configurable:!0}}function D(c,b,e,k){if("function"!==typeof b)return p;var h=-1!==["value","checked"].indexOf(c),f=-1!==G.indexOf(c),d;if(this.toString()!==p.toString())if(e){var r=this.querySelectorAll("*");e=r.length;for(var l,n=0;n<e;n++){l=r[n].attrListeners();
if(h||"*"===c)void 0!==r[n].addInputBinding&&r[n].addInputBinding(),void 0!==r[n].addInputBoxBinding&&r[n].addInputBoxBinding();if(f)p.injectStyleProperty(r[n],c),d=k?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===c){d=k?"_parentStyleUpdateListeners":"_parentStyleListeners";e=G.length;for(var C=0;C<e;C++)p.injectStyleProperty(r[n],G[C]);void 0===l[d]["*"]&&(l[d]["*"]=[]);l[d]["*"].push({parent:this,func:b})}d=k?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===l[d][c]&&
(l[d][c]=[]);l[d][c].push({parent:this,func:b})}}else{l=this.attrListeners();if(f)d=k?"_styleUpdateListeners":"_styleListeners",p.injectStyleProperty(this,c);else{if(h||"*"===c)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===c){d=k?"_styleUpdateListeners":"_styleListeners";e=G.length;for(n=0;n<e;n++)p.injectStyleProperty(this,G[n]);void 0===l[d][c]&&(l[d][c]=[]);l[d][c].push(b)}d=k?"_attrUpdateListeners":"_attrListeners"}void 0===
l[d][c]&&(l[d][c]=[]);l[d][c].push(b)}else{if(h||"*"===c)for(C=document.querySelectorAll("input, textarea"),e=C.length,n=0;n<e;n++)void 0!==C[n].addInputBinding&&C[n].addInputBinding(),void 0!==C[n].addInputBoxBinding&&C[n].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+1;f.unshift(document.body);for(n=0;n<e;n++)p.injectStyleProperty(f[n],c);d=k?F:A}else{if("*"===c){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+
1;h=G.length;f.unshift(document.body);for(n=0;n<e;n++)for(C=0;C<h;C++)p.injectStyleProperty(f[n],G[C]);d=k?F:A;void 0===d[c]&&(d[c]=[]);d[c].push(b)}d=k?v:E}void 0===d[c]&&(d[c]=[]);d[c].push(b)}}function M(c,b,e,d){function h(c,e){var f=e[c],d=f.length;for(m=0;m<d;m++)f[m].toString()===b.toString()&&f.splice(m,1)}if("function"!==typeof b)return p;["value","checked"].indexOf(c);var f=-1!==G.indexOf(c),m;if(this.toString()!==p.toString())if(e){e=this.querySelectorAll("*");var r=e.length;f?(f=d?"_childStyleUpdateListeners":
"_childStyleListeners",h(c,this.attrListeners()[f]),f=d?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===c&&(f=d?"_childStyleUpdateListeners":"_childStyleListeners",h(c,this.attrListeners()[f])),f=d?"_childAttrUpdateListeners":"_childAttrListeners",h(c,this.attrListeners()[f]),f=d?"_parentAttrUpdateListeners":"_parentAttrListeners");for(m=0;m<r;m++){for(var l=e[m].attrListeners()[f][c],n=l.length,C=0;C<n;C++)l[C].isEqualNode(this)&&l.slice(C,1);if("*"===c)for(listenersStyle=d?"_parentStyleUpdateListeners":
"_parentStyleListeners",l=e[m].attrListeners()[f][c],n=l.length,C=0;C<n;C++)l[C].isEqualNode(this)&&l.slice(C,1)}}else f?f=d?"_styleUpdateListeners":"_styleListeners":("*"===c&&(f=d?"_styleUpdateListeners":"_styleListeners",h(c,this.attrListeners()[f])),f=d?"_attrUpdateListeners":"_attrListeners"),h(c,this.attrListeners()[f]);else f?f=d?F:A:("*"===c&&(f=d?F:A,h(c,f)),f=d?v:E),h(c,f)}function J(c,b){p.addAttrListener.call(this,c,b,!0);return this}function Q(c,b){p.addAttrUpdateListener.call(this,c,
b,!0);return this}function R(c,b){p.removeAttrListener.call(this,c,b,!0);return this}function y(c,b){p.removeAttrUpdateListener.call(this,c,b,!0);return this}function H(c,b,e){var f=this.attrListeners();"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(c){case "attr":if(q(f._attrListeners[b],e))return!0;break;case "attrupdate":if(q(f._attrUpdateListeners[b],e))return!0}return!1}function I(){this._stopChange=!0;return this}function p(){function c(c,b){var g,e=b.length;for(g=0;g<e;g++)-1===
c.indexOf(b[g])&&c.push(b[g]);return c}function g(c,b){for(var g=Object.keys(c),e,f,d=0,h=g.length;d<h;d++)if(e=g[d],void 0===b[e])b[e]=c[e].slice();else for(var k=0,m=c[e].length;k<m;k++)f=c[e][k],b[e].push(f)}function e(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var e=b.target.attrListeners(),f,d=["value","checked"],h=e._attrListeners,k=e._attrUpdateListeners,m=e._parentAttrListeners;f=e._parentAttrUpdateListeners;var l=!1;if(void 0!==E["*"]||void 0!==v["*"])l=!0;if(!0!==l&&void 0!==h["*"]||
void 0!==k["*"]||void 0!==m["*"]||void 0!==f["*"])l=!0;if(!0!==l)for(var u=0;u<d.length;u++)if(void 0!==E[d[u]]||void 0!==v[d[u]]||void 0!==h[d[u]]||void 0!==k[d[u]]||void 0!==m[d[u]]||void 0!==f[d[u]]){l=!0;break}f=l;d=Object.keys(A);h=Object.keys(F);Object.keys(e._styleListeners);Object.keys(e._styleUpdateListeners);k=Object.keys(e._parentStyleListeners);e=Object.keys(e._parentStyleUpdateListeners);m=[];if(0!==d.length||0!==h.length)m=c(m,d),m=c(m,h);if(0!==m.length&&0!==k.length||0!==e.length)m=
c(m,k),m=c(m,e);-1!==m.indexOf("*")&&(m=G);var e=m,d=e.length,n,q,h=[],t,k="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,m=b.target;void 0!==k&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(f){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||h.unshift(b.arguments[0])):h=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));t=h.length;for(var z=0;z<t;z++)void 0!==h[z].addInputBinding&&h[z].addInputBinding(),void 0!==h[z].addInputBoxBinding&&h[z].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("*"));f=b.target.__kb._parentAttrListeners;
l=b.target.__kb._parentAttrUpdateListeners;u=b.target.__kb._parentStyleListeners;n=b.target.__kb._parentStyleUpdateListeners;t=h.length;for(z=0;z<t;z++){if(0!==d)for(q=0;q<d;q++)p.injectStyleProperty(h[z],e[q]);q=h[z].attrListeners();g(f,q._parentAttrListeners);g(l,q._parentAttrUpdateListeners);g(u,q._parentStyleListeners);g(n,q._parentStyleUpdateListeners)}void 0!==k&&(b.attr=k,b.target=m,b.arguments=[])}}function f(c){var b=c.target.attributes[c.arguments[0]],g="setAttribute"===c.attr?c.arguments[1]:
"";u(c.target,c.arguments[0],g,void 0!==b?b.value:"",[g])||c.preventDefault()}function d(c){var b=c.target.attributes[c.arguments[0]],g="setAttribute"===c.attr?c.arguments[1]:"";m(c.target,c.arguments[0],g,void 0!==b?b.value:"",[g])}p.injectPrototypes(Node,"Node");p.injectPrototypes(Element,"Element");p.injectPrototypes(HTMLElement,"HTMLElement");p.injectPrototypes(HTMLInputElement,"HTMLInputElement");p.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");p.injectPrototypes(Document,"Document");
var u=l,m=b;p.addAttrUpdateListener("appendChild",e);p.addAttrUpdateListener("removeChild",e);p.addAttrUpdateListener("innerHTML",e);p.addAttrUpdateListener("outerHTML",e);p.addAttrUpdateListener("innerText",e);p.addAttrUpdateListener("outerText",e);p.addAttrUpdateListener("textContent",e);p.addAttrListener("setAttribute",f);p.addAttrListener("removeAttribute",f);p.addAttrUpdateListener("setAttribute",d);p.addAttrUpdateListener("removeAttribute",d);return p}var E={},v={},A={},F={},z={},f="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
G=Object.getOwnPropertyNames(document.body.style),K=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}).concat(["addEventListener","removeEventListener"]),n,l=function(c,b,e,f,d,l){e=new w(c,b,e,f,d,void 0,"set",l);void 0!==c.__kb&&(f=c.__kb._attrListeners,d=c.__kb._styleListeners,l=c.__kb._parentAttrListeners,c=c.__kb._parentStyleListeners,void 0!==f[b]&&t(f[b],e),void 0===e._stopPropogation&&void 0!==d[b]&&t(d[b],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(t(f["*"],
e),void 0===e._stopPropogation&&t(d["*"],e)),void 0===e._stopPropogation&&void 0!==l[b]&&x(l[b],e),void 0===e._stopPropogation&&void 0!==c[b]&&x(c[b],e),void 0===e._stopPropogation&&void 0!==l["*"]&&(x(l["*"],e),void 0===e._stopPropogation&&x(c["*"],e)));void 0===e._stopPropogation&&void 0!==E[b]&&t(E[b],e);void 0===e._stopPropogation&&void 0!==A[b]&&t(A[b],e);void 0===e._stopPropogation&&void 0!==E["*"]&&(t(E["*"],e),void 0===e._stopPropogation&&t(A["*"],e));return void 0!==e._preventDefault?!1:
!0},b=function(c,b,e,f,d,l){e=new w(c,b,e,f,d,l,"update");void 0!==c.__kb&&(f=c.__kb._attrUpdateListeners,d=c.__kb._styleUpdateListeners,l=c.__kb._parentAttrUpdateListeners,c=c.__kb._parentStyleUpdateListeners,void 0!==f[b]&&t(f[b],e),void 0===e._stopPropogation&&void 0!==d[b]&&t(d[b],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(t(f["*"],e),void 0===e._stopPropogation&&t(d["*"],e)),void 0===e._stopPropogation&&void 0!==l[b]&&x(l[b],e),void 0===e._stopPropogation&&void 0!==c[b]&&x(c[b],e),void 0===
e._stopPropogation&&void 0!==l["*"]&&(x(l["*"],e),void 0===e._stopPropogation&&x(c["*"],e)));void 0===e._stopPropogation&&void 0!==v[b]&&t(v[b],e);void 0===e._stopPropogation&&void 0!==F[b]&&t(F[b],e);void 0===e._stopPropogation&&void 0!==v["*"]&&(t(v["*"],e),void 0===e._stopPropogation&&t(F["*"],e));return void 0!==e._preventDefault?!1:!0};p.injectPrototypeProperty=function(c,g,e,f,h){var n=c.prototype,m=Object.getOwnPropertyDescriptor(n,g);e=e||c.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var r=z[e];f=f||l;h=h||b;void 0===n.attrListeners&&(n={},n.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);return this.__kb}.bind(n),n.addAttrListener=p.addAttrListener,n.addAttrUpdateListener=p.addAttrUpdateListener,n.addChildAttrListener=J,n.addChildAttrUpdateListener=Q,n.hasListener=H,n.removeAttrListener=p.removeAttrListener,n.removeAttrUpdateListener=p.removeAttrUpdateListener,n.removeChildAttrListener=R,n.removeChildAttrUpdateListener=y,n.stopChange=I);void 0===r&&(z[e]={obj:c,
proto:n,descriptors:{},set:void 0,update:void 0},r=z[e],r.set=f,r.update=h);void 0===r.descriptors[g]&&(r.descriptors[g]=m);m.configurable&&(void 0!==m.set?Object.defineProperty(n,g,{get:m.get,set:d(m,g,f,h),enumerable:!0,configurable:!0}):"function"===typeof m.value?Object.defineProperty(n,g,{value:O(m,g,f,h),writable:!0,enumerable:!0,configurable:!0}):void 0!==m.value&&Object.defineProperty(n,g,{get:function(){return m.value},set:L(m,g,f,h),enumerable:!0,configurable:!0}));return p};p.injectStyleProperty=
function(c,g,e,f){var d=c.style,n=Object.getOwnPropertyDescriptor(d,g),m=c.attrListeners().injectedStyle;e=e||l;f=f||b;void 0===m&&(c.attrListeners().injectedStyle={obj:c,proto:d,descriptors:{},set:void 0,update:void 0},c.attrListeners().injectedStyle.set=e,c.attrListeners().injectedStyle.update=f,m=c.attrListeners().injectedStyle);void 0===m.descriptors[g]&&(m.descriptors[g]=n);n.configurable&&Object.defineProperty(d,g,N(n,g,e,f,c));return p};p.injectPrototypes=function(c,f,e,d){var h=c.prototype;
f=f||c.toString().split(/\s+/)[1].split("{")[0].replace("()","");var n=z[f],m=Object.getOwnPropertyNames(h);e=e||l;d=d||b;var r;void 0===h.attrListeners&&(h.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);return this.__kb},h.addAttrListener=p.addAttrListener,h.addAttrUpdateListener=p.addAttrUpdateListener,h.addChildAttrListener=J,h.addChildAttrUpdateListener=Q,h.removeAttrListener=p.removeAttrListener,h.removeAttrUpdateListener=p.removeAttrUpdateListener,h.removeChildAttrListener=R,
h.removeChildAttrUpdateListener=y,h.hasListener=H,h.stopChange=I);void 0===n&&(z[f]={obj:c,proto:h,descriptors:{},set:void 0,update:void 0},n=z[f],n.set=e,n.update=d);r=z[f].descriptors;for(d=0;d<m.length;d+=1)void 0===r[m[d]]&&p.injectPrototypeProperty(c,m[d],f,e,b);if(-1!==m.indexOf("value")){var q=function(c){var b,e,f;if("checkbox"===this.type||"radio"===this.type)b=!0;e=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){f=b?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;b&&(n.set(this,"checked",this.checked,e)?n.update(this,"checked",this.checked,e):r.checked.set.call(this,e));this.value=f;n.set(this,"value",this.value,e)?n.update(this,"value",this.checked,e):r.value.set.call(this,e)}.bind(this),0)};h.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",q)};h.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",q)};h.removeInputBoxBinding=
function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",q)};h.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",q)}}return p};p.addAttrListener=function(b,d,e){if("html"===b){b=0;for(var k=f.length;b<k;b++)D.call(this,f[b],d,e,!1)}else if("events"===b)for(b=0,k=K.length;b<k;b++)D.call(this,K[b],d,e,!1);else D.call(this,b,d,e,!1);return this};p.addAttrUpdateListener=function(b,d,e){if("html"===b){b=0;for(var k=f.length;b<
k;b++)D.call(this,f[b],d,e,!0)}else if("events"===b)for(b=0,k=K.length;b<k;b++)D.call(this,K[b],d,e,!0);else D.call(this,b,d,e,!0);return this};p.removeAttrListener=function(b,d,e){if("html"===b){b=0;for(var k=f.length;b<k;b++)M.call(this,f[b],d,e,!1)}else if("events"===b)for(b=0,k=K.length;b<k;b++)M.call(this,K[b],d,e,!1);else M.call(this,b,d,e,!1);return this};p.removeAttrUpdateListener=function(b,d,e){if("html"===b){b=0;for(var k=f.length;b<k;b++)M.call(this,f[b],d,e,!0)}else if("events"===b)for(b=
0,k=K.length;b<k;b++)M.call(this,K[b],d,e,!0);else M.call(this,b,d,e,!0);return this};p.hasListener=function(b,d,e){"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(b){case "attr":if(q(E[d],e))return!0;break;case "attrupdate":if(q(v[d],e))return!0}return!1};p.injectedPrototypes=function(){return z};return p}"function"===typeof define&&define.amd&&define("KB",x);return x}()),T=function(x,t,P){return function(){function q(t,J,x,D){function y(p,q,f,t,v){for(var n=d({},p),l=0,b=Object.keys(q.prototype),
c=b.length;l<c;l++)n.__proto__[b[l]]=q.prototype[b[l]];l=0;b=Object.keys(t);for(c=b.length;l<c;l++)n.isObservable(t,b[l])?n.addPointer(t,b[l]):n.add(b[l],t[b[l]]);q.apply(n,f);l=0;b=Object.keys(v);for(c=b.length;l<c;l++)n.isObservable(v,b[l])?(void 0!==n[b[l]]&&n.remove(b[l]),n.addPointer(v,b[l])):n.set(b[l],v[b[l]]);if(n.sessionStorage){if(q=sessionStorage.getItem(n.id||p))for(q=JSON.parse(q),l=0,b=Object.keys(q),c=b.length;l<c;l++)n.set(b[l],q[b[l]]);else sessionStorage.setItem(n.id||p,n.stringify());
n.addChildDataUpdateListener("*",function(){sessionStorage.setItem(n.id||p,n.stringify())})}if(n.localStorage){if(q=localStorage.getItem(n.id||p))for(q=JSON.parse(q),l=0,b=Object.keys(q),c=b.length;l<c;l++)n.set(b[l],q[b[l]]);else localStorage.setItem(n.id||p,n.stringify());n.addChildDataUpdateListener("*",function(){localStorage.setItem(n.id||p,n.stringify())})}n.store&&O.set(n.id||p,n);return n}function H(d,p,f){d.kb_viewmodel=f;Object.keys(p).forEach(function(d){p[d].forEach(function(d){switch(d.type){case "for":d.connect(f);
break;case "component":d.connect(f).deleteMap();break;default:d.connect(f)}})})}function I(d,p){E=new L(p);p.replaceWith(E.fragment);H(E.wrapper,E.maps,y(d,N[d],J,x,D));for(var f=E.wrapper.querySelectorAll("*"),t=0,v=f.length;t<v;t++)f[t]instanceof HTMLUnknownElement&&q(f[t])}var p=t.tagName.toLowerCase(),E;void 0===J&&(J=[]);void 0===x&&(x={});x.filters||Object.defineProperty(x,"filters",w({}));x.sessionStorage||Object.defineProperty(x,"sessionStorage",w(!1,!0));x.localStorage||Object.defineProperty(x,
"localStorage",w(!1,!0));x.store||Object.defineProperty(x,"store",w(!1,!0));x.multiple||Object.defineProperty(x,"multiple",w(!1,!0));void 0===D&&(D={});D.innerHTML=t.innerHTML.toString();for(var v=0,A=t.attributes.length;v<A;v++)-1===["id","class"].indexOf(t.attributes[v].name)&&(D[t.attributes[v].name]=t.attributes[v].value);L.isRegistered(p)?I(p,t):(q.loadWaitList(p,function(d,q){I(p,t)}),B(p))}function w(d,q,t){return{value:d,writable:!!q,enumerable:!1,configurable:!!t}}window.K_Components||(window.K_Components=
{});var B=t().onLoad(function(d,t){q.register(d,t,"<style>"+t.prototype.k_css+"</style>"+t.prototype.k_html,t.prototype.cms);q.loadWaitList(d)(d,t);q.loadWaitList(d,function(){})}),d=x(),L=P(),O=d({},"Model"),N={};(function(){return window.location.search.replace("?","").split("&").filter(function(d){return 0!==d.length}).reduce(function(d,q){d[q.split("=")[0]]=q.split("=")[1];return d},{})})();var D={};q.register=function(d,t,w,x){L.register(d,w);N[d]=t;return q};q.loadWaitList=function(d,t){if("undefined"===
typeof t&&d)return D[d];d&&(D[d]="function"===typeof t?t:D[d]);return q};return q}}(V,W,X);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return T}):"undefined"!==typeof module&&(module.exports=T);return T}();
