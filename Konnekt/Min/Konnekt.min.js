var Konnekt=function(){var T=function(){return function(B,x,R,n){function y(b,c,g,d){b=void 0===b?{}:b;var k={};if("undefined"===typeof Proxy)return console.error("There is no support for proxies! This library can not be used here, please update Your js library or browser");var h=new Proxy(k,{set:F,deleteProperty:N}),p=Object.keys(b,"all");Object.defineProperties(k,{__kbname:f("string"===typeof c?c:"default",!0,!0),__kbref:f(g?g.__kbref||g:h,!0,!0),__kbscopeString:f(d||"",!0,!0),__kbImmediateParent:f(g||
null,!0,!0),__kbsubscribers:f({}),__kblisteners:f({}),__kbupdatelisteners:f({}),__kbparentlisteners:f({}),__kbparentupdatelisteners:f({}),__kbcreatelisteners:f([]),__kbdeletelisteners:f([]),__kbparentcreatelisteners:f([]),__kbparentdeletelisteners:f([]),__kbpointers:f({}),__kbevents:f(D),length:f(0,!0),__kbnonproxy:f(k,!1,!0),_stopChange:f(!1,!0)});c=0;for(g=p.length;c<g;c++)h[p[c]]=b[p[c]];k.__proto__=y.prototype;k.addActionListener("addlistener",function(c){if("string"===typeof c.arguments[0]&&
void 0!==c.local.__kbpointers[c.arguments[0]])c.local.__kbpointers[c.arguments[0]][c.arguments[2]](c.arguments[0],c.arguments[1])}).addActionListener("removelistener",function(c){if("string"===typeof c.arguments[0]&&void 0!==c.local.__kbpointers[c.arguments[0]])c.local.__kbpointers[c.arguments[0]][c.arguments[2]](c.arguments[0],c.arguments[1])});return h}function u(b,c,g,d,k,h,p,l){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=
b;this.key=c;this.arguments=h;this.type=this.event=g;this.listener=p;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.___kbImmediateParent;this.value=d;this.oldValue=k;this.stopChange=l}function f(b,c,g){return{value:b,writable:!!c,enumerable:!1,configurable:!!g}}function O(b,c,g){return{get:function(){return b.call(this)},set:function(g){c&&(b=g)},enumerable:!1,configurable:!!g}}function M(b,c){var g=c,d=c;return{get:function(){return g},set:function(c){var h=new u(this,
b,"set",c,g,arguments,"__kblisteners",this._stopChange);!0!==q(h)&&(d=g,g=c,h.stopChange||(h.listener="__kbupdatelisteners",h.type="postset",q(h)),this._stopChange||this.callSubscribers(b,g,d));this._stopChange=!1},configurable:!0,enumerable:!0}}function P(b,c,g){return{get:function(){return b[c]},set:function(g){(this._stopChange?b.stopChange():b)[c]=g;this._stopChange=!1},enumerable:g.enumerable,configurable:g.configurable}}function J(b,c){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},
{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],d=[],k,h=0,p=g.length;h<p;h++)if(k=b[g[h].listener],m.call(k))for(var d=Object.keys(k),l=0,z=d.length;l<z;l++)for(var e=0,v=k[d[l]].length;e<v;e++)c[g[h].method](d[l],k[d[l]][e]);else for(l=0,z=k.length;l<z;l++)c[g[h].method](k[l])}function G(b,c){var g=[{listeners:"__kblisteners",method:"addDataListener"},
{listeners:"__kbupdatelisteners",method:"addDataUpdateListener"}],d=[],k;if(b[c].__kbImmediateParent)for(var h=0,p=g.length;h<p;h++){k=b[g[h].listener];for(var d=Object.keys(k),l=0,z=d.length;l<z;l++)if(c===d[h])for(var e=0,v=k[d[h]].length;e<v;e++)void 0===b[c].__kbImmediateParent[g[h].listener][c]&&(b[c].__kbImmediateParent[g[h].listener][c]=[]),b[c].__kbImmediateParent[g[h].listener][c].push(k[d[h]][e])}J(b,b[c])}function I(b,c,g,d){g=new y(g,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?
".":"")+c);J(b,g);if(d){d=new u(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange);var k=q(d);!0!==k&&(Object.defineProperty(b,c,M(c,g)),d.listener="__kbupdatelisteners",d.type="postcreate",q(d));return!0!==k}Object.defineProperty(b,c,M(c,g));return!0}function K(b,c,g,d){if(d){d=new u(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange);var k=q(d);if(!0!==k){var h=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,c);Object.defineProperty(b,c,P(g.__kbImmediateParent,c,h));b.__kbpointers.push(c);
G(b,c);d.listener="__kbupdatelisteners";d.type="postcreate";q(d)}return!0!==k}h=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,c);Object.defineProperty(b,c,P(g.__kbImmediateParent,c,h));b.__kbpointers.push(c);G(b,c);return!0}function F(b,c,g){if(H.call(b,c)){if("length"===c)if(g>b.length&&void 0!==b[g-1])b.length=g;else{if(g<b.length){c=g;for(var d=b.length;c<d;c++)b[c]&&delete b[c];b.length=g}}else{if("object"===typeof g)return I(b,c,g);if(g instanceof y)return K(b,c,g);b[c]=g}return!0}isNaN(parseInt(c,
10))||(c=parseInt(c,10),b.length<=c&&(b.length=c+1));if(b._stopChange||"_stopChange"===c)return b[c]=g,!0;if(-1===e.indexOf(c)){if("object"===typeof g)return I(b,c,g,!0);if(g instanceof y)return K(b,c,g,!0);var d=new u(b,c,"create",g,void 0,[],"__kbcreatelisteners",b._stopChange),k=q(d);!0!==k&&(Object.defineProperty(b,c,M(c,g)),d.listener="__kbupdatelisteners",d.type="postcreate",q(d));return!0!==k}}function N(b,c){var g=new u(b,c,"delete",b[c],void 0,[],"__kbdeletelisteners",b._stopChange),d=q(g);
!0!==d&&("object"===typeof b[c]&&(b[c]=null),delete b[c],g.listener="__kbupdatelisteners",g.type="postdelete",q(g));return!0!==d}function m(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isObject to check"):"object"===Object.prototype["typeof"](void 0!==b?"object"===typeof b?b:this[b]:this)}function Q(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isArray to check"):"array"===Object.prototype["typeof"](void 0!==
b?"object"===typeof b?b:this[b]:this)}function r(b){return this==Object.prototype&&void 0===b?console.error("No value specified in Object.prototype.isMixed to check"):"mixed"===Object.prototype["typeof"](void 0!==b?"object"===typeof b?b:this[b]:this)}function H(b,c){if(this==Object.prototype&&void 0===b&&void 0===c)return console.error("No object and property specified in Object.prototype.isObservable to check");if(void 0===b)return console.error("No property specified in isObservable to check");
var g=Object.getOwnPropertyDescriptor(void 0!==b&&"string"!==typeof b?b:this,void 0!==c?c:b);return g?void 0===g.value:!1}function C(b){return b.split(".")}function E(b,c){return function(g,d){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=this[c],h=new u(this,c,"addlistener",k,void 0,arguments,"");"string"===typeof g&&1!==C(g).length&&(k=C(g),k.pop(),k.join("."),h.local=this.getLayer(k),k=h.local[c],h.value=k,g=C(g).pop());!0!==q(h)&&(m.call(k)?(void 0===k[g]&&(k[g]=[]),
k[g].push(d),h.type="postaddlistener",q(h)):Q.call(k)&&"function"===typeof g&&(k.push(g),h.type="postaddlistener",q(h)));return this}}function w(b,c){return function(g,d){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=this[c],h=new u(this,c,"removelistener",k,void 0,arguments,"");"string"===typeof g&&1!==C(g).length&&(k=C(g),k.pop(),k.join("."),h.local=this.getLayer(k),k=h.local[c],h.value=k,g=C(g).pop());if(!0!==q(h))if(m.call(k)){if(void 0!==k[g])for(var p=0,l=k[g].length;p<
l;p++)if(k[g][p].toString()===d.toString()){k[g].splice(p,1);h.type="postremovelistener";q(h);break}}else if(Q.call(k)&&"function"===typeof g)for(p=0,l=k.length;p<l;p++)if(k[p].toString()===d.toString()){k.splice(p,1);h.type="postremovelistener";q(h);break}return this}}function A(b,c){function g(c,b,h){var p=Object.keys(this,"all").filter(function(c){return r.call(this[c])}.bind(this)),l=this,z=c;"string"===typeof c&&1!==C(c).length&&(l=C(c),z=l.pop(),l.join("."),l=this.getLayer(l),void 0===l[h][c]&&
(l[h][c]=[]),l[h][c].push(b));m.call(l[h])?(void 0===l[h][z]&&(l[h][z]=[]),l[h][z].push(b),void 0!==l.__kbpointers[z]&&(void 0===l.__kbpointers[z][z]&&(l.__kbpointers[z][z]=[]),l.__kbpointers[z][z].push(_func))):l[h].push(b);z=0;for(l=p.length;z<l;z++)g.call(this[p[z]],c,b,h)}return function(d,k){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new u(this,c,"addchildlistener",void 0,void 0,arguments,"");!0!==q(h)&&(g.call(this,d,k,c),h.type="postaddchildlistener",q(h));return this}}
function t(b,c){function g(c,b,h){var p=Object.keys(this,"all").filter(function(c){return r.call(this[c])}.bind(this)),l=this,z=c;if("string"===typeof c&&1!==C(c).length&&(l=C(c),z=l.pop(),l.join("."),l=this.getLayer(l),void 0!==l[h][c]))for(var e=0,v=l[h][c].length;e<v;e++)if(l[h][c][e].toString()===b.toString()){l[h][c].splice(e,1);break}if(m.call(l[h])){if(void 0!==l[h][z]){e=0;for(v=l[h][z].length;e<v;e++)if(l[h][z][e].toString()===b.toString()){l[h][z].splice(e,1);break}if(-1!==l.__kbpointers.indexOf(z)&&
void 0!==l[z].__kbImmediateParent[h][z])for(e=0,v=l[z].__kbImmediateParent[h][z].length;e<v;e++)if(l[z].__kbImmediateParent[h][z][e].toString()===b.toString()){l[z].__kbImmediateParent[h][z].splice(e,1);break}}}else for(e=0,v=l[h].length;e<v;e++)if(l[h][e].toString()===b.toString()){l[h].splice(e,1);break}e=0;for(v=p.length;e<v;e++)g.call(this[p[e]],c,b,h)}return function(d,k){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new u(this,c,"removechildlistener",void 0,void 0,
arguments,"");!0!==q(h)&&(g.call(this,d,k,c),h.type="postremovechildlistener",q(h));return this}}var D={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},
e=["__proto__"],L=function(b,c){if(!c._stopPropogration&&b)for(var g=0,d=b.length;g!==d&&(b[g](c),!c._stopPropogration);g++);},q=function(b){if(b.listener){var c=b.local[b.listener],g=b.local[b.listener.replace("__kb","__kbparent")];m.call(c)?(L(c[b.key],b),L(c["*"],b)):L(c,b);m.call(g)?(L(g[b.key],b),L(g["*"],b)):L(g,b)}L(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault};Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);
Object.prototype.toString=function(){return this instanceof y?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(g){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(g,10)):isNaN(parseInt(g,10))})};Object.defineProperties(Object.prototype,{"typeof":f(function(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},!1,!0),sizeof:f(function(b){function c(b){for(var k=Object.keys(b,"all"),h=0,p=
void 0,l=0,e=k.length;l<e;l++)p=b[k[l]],"object"===typeof p&&void 0!==p&&null!==p?-1===g.indexOf(p)&&(g.push(p),h+=c(p)):"string"===typeof p?h+=2*p.length:"number"===typeof p?h+=8:"boolean"===typeof p?h+=4:"function"===typeof p&&(h+=2*p.toString().length),h+=2*k[l].length;return h}if(this==Object.prototype&&void 0===b)return console.error("No object specified in Object.prototype.sizeof");var g=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:f(m,!1,!0),isArray:f(Q,!1,!0),isMixed:f(r,
!1,!0),isObservable:f(H,!1,!0),stringify:f(function(b){if(this==Object.prototype&&void 0===b)return console.error("No object was specified in Object.prototype.stringify to stringify");var c=[];return JSON.stringify(this,function(b,d){if(Q(d)||m(d)){if(-1!==c.indexOf(d))return;c.push(d)}return d})},!1,!0),getKeys:f(function(b,c){return this==Object.prototype&&void 0===b?console.error("No object was specified in Object.prototype.getkeys"):Object.keys(void 0!==b&&"string"!==typeof b?"object"===typeof b?
b:this[b]:this)},!1,!0),getIndexes:f(function(b){if(this==Object.prototype&&void 0===b)return console.error("No object was specified in Object.prototype.getIndexes");var c=void 0!==b?"object"===typeof b?b:this[b]:this;return c.slice().map(function(c,b){return b}).filter(function(b){return void 0!==c[b]})},!1,!0),keyCount:O(function(){return this.getKeys("o").length},!1,!0),indexCount:O(function(b){return this.length},!1,!0),count:O(function(b){return this.keyCount+this.indexCount},!1,!0)});Object.defineProperties(y.prototype,
{concat:f(Array.prototype.concat),every:f(Array.prototype.every),filter:f(Array.prototype.filter),find:f(Array.prototype.find),findIndex:f(Array.prototype.findIndex),forEach:f(Array.prototype.forEach),includes:f(Array.prototype.includes),indexOf:f(Array.prototype.indexOf),join:f(Array.prototype.join),lastIndexOf:f(Array.prototype.lastIndexOf),map:f(Array.prototype.map),reduce:f(Array.prototype.reduce),reduceRight:f(Array.prototype.reduceRight),slice:f(Array.prototype.slice),some:f(Array.prototype.some),
entries:f(Array.prototype.entries),toLocaleString:f(Array.prototype.toLocaleString),add:f(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());"undefined"===g[b]&&(g[b]=c);return this}),set:f(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());g[b]=c;return this}),get:f(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",
this,b)}),del:f(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());c&&void 0!==c[b]&&delete this[b];return this}),exists:f(function(b){var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());return c?void 0!==c[b]:!!c}),addPrototype:f(function(b,c){var g=-1!==b.indexOf(".")?this.setLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===g[b]?Object.defineProperty(g.__proto__,b,f(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,g);return this}),addPointer:f(function(b,c){b instanceof y||(b=new y(b,b.__kbname,b,""));var g=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(this,c,P(b,c,g));this.__kbpointers[c]=b}),move:f(function(b,c){this[c]=b[c];b instanceof y||(b[c]=null);delete b[c];return this}),copy:f(function(b,c){this[c]=b[c];return this}),merge:f(function(b){function c(b,k){for(var h=b instanceof y?b.keys("o"):Object.keys(b),p,l=0,e=h.length;l<e;l++)p=b[h[l]],"object"===typeof p&&-1===g.indexOf(p)&&"undefined"!==
k[h[l]]?c(p,k):k[h[l]]=p}var g=[];c(b,this);return this}),copyWithin:f(function(b,c,g){c=c||0;g=g||0;var d=new u(this,b,"copyWithin",this[b],void 0,arguments,"");if(!0!==q(d)&&b<this.length){b=0>b?this.length-1:b;c=c<this.length?c:this.length-1;g=g<this.length?g:this.length-1;c=0>c?this.length-1:c;g=0>c?this.length-1:g;for(var k=c;k<=g;k++)this[b+(k-c)]=this[k];d.type="postcopyWithin";q(d)}return this}),fill:f(function(b,c,g){c=void 0!==c?Math.max(0,c):0;g=void 0!==g&&g<=this.length?Math.min(this.length,
Math.max(0,g)):this.length;var d=new u(this,_start,"fill",this[_start],void 0,arguments,"");if(!0!==q(d)){for(var k=a.key;k<g;k++)this[k]=b;d.type="postfill";q(d)}return this}),pop:f(function(){var b=new u(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"");if(!0!==q(b)){var c=this[this.length-1];--this.length;b.type="postpop";q(b);return c}return null}),push:f(function(b){var c=new u(this,this.length,"push",b,void 0,arguments,"");!0!==q(c)&&(this[this.length]=b,c.type="postpush",q(c));
return this.length}),reverse:f(function(){var b=new u(this,void 0,"reverse",void 0,void 0,arguments,"");if(!0!==q(b)){for(var c=this.slice().reverse(),g=0,d=this.length;g<d;g++)this[g]=c[g];b.type="postreverse";q(b)}return this}),shift:f(function(){var b=new u(this,0,"shift",this[0],void 0,arguments,"");if(!0!==q(b)){for(var c=a.key,g=this.length-1;c<g;c++)this[c]=this[c+1];--this.length;b.type="postshift";q(b)}return null}),sort:f(function(){var b=new u(this,void 0,"sort",void 0,void 0,arguments,
"");if(!0!==q(b)){for(var c=this.slice(),c=c.sort.apply(c,arguments),g=0,d=this.length;g<d;g++)this[g]=c[g];b.type="postsort";q(b)}return this}),splice:f(function(b,c,g){var d=new u(this,b,"splice",void 0,void 0,arguments,"");if(!0!==q(d)){var k=[],h=Array.prototype.slice.call(arguments,2),p=h.length-2,l=0;if(0!==c&&void 0!==this[b-1+c])for(var e=0,f=c;e<f;e++){k.push(this[b+e]);for(var v=b+e,L=this.length-1;v<L;v++)this[v]=this[v+1];delete this[this.length-1]}if(0!==p)for(e=0,f=p;e<f;e++){l=b+Math.min(1,
e);v=this.length;for(L=l;v>L;v--)this[v]=this[v-1];this[l]=h[e]}d.type="postsplice";d.listener="";q(d);return k}return[]}),unshift:f(function(){var b=new u(this,0,"unshift",this[0],void 0,arguments,"");if(!0!==q(b)){for(var c=Array.prototype.slice.call(arguments),g=this.length-1+c.length,d=c.length;-1!==g;g--)this[g]=g<d?c[g]:this[g-c.length];b.type="postunshift";q(b)}return this.length}),getLayer:f(function(b){function c(b){var d=b[0];return void 0===this[d]&&0!==b.length-1?null:r(this[d])?0!==b.length-
1?(b.shift(),c.call(this[d],b)):this[d]:this}b=C(b);return c.call(this,b)}),setLayer:f(function(b){function c(b){var d=b[0];void 0===this[d]&&0!==b.length-1&&(this[d]=y({},this.__kbname,this,this.__kbscopeString+"."+d));return r(this[d])?0!==b.length-1?(b.shift(),c.call(this[d],b)):this[d]:this}b=C(b);return c.call(this,b)}),ignoreCreate:f(function(b){-1===e.indexOf(b)&&e.push(b);return this}),addActionListener:f(function(b,c){void 0!==this.__kbref.__kbevents[b]&&this.__kbref.__kbevents[b].push(c);
return this}),removeActionListener:f(function(b,c){if(void 0!==this.__kbref.__kbevents[b])for(var g=0,d=this.__kbref.__kbevents[b];g<d;g++)if(this.__kbref.__kbevents[b][g].toString()===c.toString()){this.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:f(function(b,c){void 0===this.__kbsubscribers[b]&&(this.__kbsubscribers[b]=[]);this.__kbsubscribers[b].push(c);return this}),unsubscribe:f(function(b,c){if(void 0!==this.__kbsubscribers[b])for(var g=0,d=this.__kbsubscribers[b].length;g<
d;g++)if(this.__kbsubscribers[b][g].toString()===c.toString()){this.__kbsubscribers[b].splice(g,1);break}return this}),callSubscribers:f(function(b,c,g){if(void 0!==this.__kbsubscribers[b])for(var d=0,k=this.__kbsubscribers[b].length;d<k;d++)this.__kbsubscribers[b].call(this,b,c,g);return this}),stopChange:f(function(){this._stopChange=!0;return this})});Object.defineProperties(y.prototype,{addDataListener:f(E("addDataListener","__kblisteners")),removeDataListener:f(w("removeDataListener","__kblisteners")),
addDataUpdateListener:f(E("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:f(w("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:f(E("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:f(w("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:f(E("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:f(w("removeDataDeleteListener","__kbdeletelisteners")),addChildDataListener:f(A("addChildDataListener",
"__kbparentlisteners")),removeChildDataListener:f(t("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:f(A("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:f(t("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:f(A("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:f(t("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:f(A("addChildDataDeleteListener",
"__kbparentdeletelisteners")),removeChildDataDeleteListener:f(t("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return y}}(),U=function(){return function(){function B(n){if("object"===typeof n)for(var y=0,u=n.length;y<u;y++)K_Components[n[y]]?x(n[y],K_Components[n[y]],document.getElementById("script_"+n[y])):B.load(n[y],"component/"+n[y]+"/"+location.search,x);else"string"===typeof n&&(K_Components[n[y]]?x(n,K_Components[n],document.getElementById("script_"+n)):B.load(n,"component/"+
n+"/"+location.search,x))}var x=function(){},R=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});B.getUnknowns=function(n){var y=n.match(R);return y.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,f){return document.createElement(n)instanceof HTMLUnknownElement&&-1===y.indexOf(n,f+1)&&!K_Components[n]})};B.load=function(n,y,u){document.head.appendChild(function(f,n,y){var u=document.createElement("script");u.type="text/javascript";u.charset="utf-8";u.async=!0;u.src=n;u.id=
"script_"+f;u.onload=function(){y(f,K_Components[f],this)};return u}(n,y,u));return B};B.onLoad=function(n){if(void 0===n)return x;x="function"===typeof n?n:x;return B};return B}}(),V=function(B){return function(){function x(e){this.name=e.tagName.toLowerCase();this.template=H[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=e;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;
this.wrapper.innerHTML=this.template;this.fragment.appendChild(this.wrapper);this.maps=this.map(this.wrapper);this.wrapper.kb_maps=this.maps}function R(e,f,q,b,c,g,d,k){function h(c){var b=N(c),g=this;this.key="for"!==f?K(c):b[0];this.filterNames=F(c);this.component="for"!==f?b[1]:void 0;this.id=0;this.isEvent=p;this.__proto__.bindText=this.__proto__.bindText.map(function(b){return b===c?this:b});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:m("",
!0)});this.__proto__.updateData=function(c){g.isConnected&&g._data&&("object"===typeof c&&c.value||(c={value:c}),"function"===typeof g._data.stopChange&&g._data.stopChange().set(g.key,c.value))};this.__proto__.updateDom=function(c){g.isSynced()&&(g.element.stopChange(),"object"===typeof c&&c.value||(c={value:c}),g.value=c.value)}}var p="attribute"===f&&-1!==E.indexOf(d.name)||"component"===f&&d.name&&-1!==E.indexOf(d.name);p&&k.stopChange().removeAttribute(d.name);Object.defineProperties(h.prototype,
{valget:m(n),valset:m(y),refresh:m(O),connect:m(M),deleteMap:m(P),unsync:m(J),isSynced:m(u),type:m(f),text:m(q,!0),bindText:m(b,!0),bindNames:m(I(b),!0),bindListener:m(p?c.toLowerCase():c),bindProperty:m(p?d.name.toLowerCase():g),bindTarget:m(d,!0),element:m(k,!0),_data:m({},!0),filters:m({},!0),maps:m(e,!0),loop:m(loop)});return h}function n(){return this._value}function y(e){this._value=this.isSynced()?e:this._value;this.refresh()}function u(){return this.element.parentElement?!!this.element.parentElement:
this.unsync()}function f(e,f){function q(b,c){return c.reduce(function(c,d){return c+("string"===typeof d?d:0===d.filterNames.length?d._value:d.filterNames.reduce(function(c,g){if(void 0!==b.filters){if(void 0!==b.filters[g])return b.filters[g](c);console.warn("there is no filter by the name %o in the data model filters %o",g,Object.keys(b.filters));return c}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return c},d._value))},"")}return 1===
f.length?"string"===typeof f[0]._value?q(e,f):f[0]._value:q(e,f)}function O(){"for"!==this.type&&(this.isEvent?this.element[this.bindProperty]=this.bindText[0]._value:"component"===this.type?(this.element.k_post||(this.element.k_post={}),this.element.k_post["textContent"===this.bindProperty?"innerHTML":this.bindTarget.name]=f(this,this.bindText)):this.bindTarget[this.bindProperty]=f(this,this.bindText));return this}function M(e){this._data=e;this.filters=void 0!==e.filters?e.filters:this.filters;
e=0;for(var f=this.bindNames.length;e<f;e++)this._data.addDataUpdateListener&&(this._data.exists(this.bindNames[e])||this._data.add(this.bindNames[e],this._value),this.value=this._data.get(this.bindNames[e]),"component"!==this.type&&(this.isConnected=!0,this._data.addDataUpdateListener(this.bindNames[e],this.updateDom),"for"===this.type&&console.log("run for type event listeners")));1!==this.bindText.length||"text"!==this.type&&"attribute"!==this.type&&!this.isEvent||this.element.addAttrUpdateListener("text"===
this.type?"html":this.bindListener,this.updateData);return this}function P(){this.maps[this.key].splice(this.id,1);return this}function J(){for(var e=0,f=this.bindNames.length;e<f;e++)this._data.removeDataUpdateListener&&this._data.removeDataUpdateListener(this.bindNames[e],this.updateDom);this.element.removeAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);this.maps=this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=
null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;this.__proto__.element=null;this.__proto__.maps=null;return!1}function G(e){return e.split(new RegExp("("+w.split("").join("\\")+")(.*?)("+A.split("").join("\\")+")","g")).map(function(e,f,b){return b[f-1]===w?w+e+A:e}).filter(function(e,f,b){return 0!==e.length&&e!==w&&e!==A&&0!==e.length})}function I(e){return e.filter(function(e){return-1!==e.indexOf(w)&&-1!==e.indexOf(A)}).map(function(e){return K(e)})}
function K(e){return e.replace(new RegExp("["+w+A+"]","g"),"").replace(new RegExp("\\"+t.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function F(e){return-1!==e.indexOf(t)?e.replace(new RegExp("["+A+"]","g"),"").replace(new RegExp("(.*?)(\\"+t.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function N(e){return-1!==e.indexOf("for")?e.replace(new RegExp("["+w+A+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(e){return 0!==e.length}):[]}
function m(e,f,q){return{value:e,writable:!!f,enumerable:!1,configurable:!!q}}function Q(e,f){for(var q=D[e],b=0,c=q.length;b<c&&(q[b](f),f._stopPropogation);b++);return f._preventDefault}function r(e){var f=e.match(C).map(function(e){return e.replace(/[<\/>]/g,"")});f.filter(function(e,b){return document.createElement(e)instanceof HTMLUnknownElement&&-1===f.indexOf(e,b+1)&&void 0===H[e]});0!==f.length&&Q("unknown",new Event("unknown",f));return f}var H={},C=/(<\/.*?>)/g;B().call();var E=Object.keys(HTMLElement.prototype).filter(function(e){return 0===
e.indexOf("on")}),w="{{",A="}}",t="|",D={unknown:[]};x.prototype.map=function(e){function f(b){for(var c=0,g=b.length;c<g;c++)if(void 0===b[c].kb_maps&&8!==b[c].nodeType){b[c].kb_mapper=e;if(3===b[c].nodeType){var d=b[c],k=q,h=d.textContent,p=d.parentElement instanceof HTMLUnknownElement;if(h.match(new RegExp("(\\"+w.split("").join("\\")+")(.*?)(\\"+A.split("").join("\\")+")","g")))for(var l=p?"component":-1!==h.indexOf("for")&&void 0!==h.indexOf("loop")?"for":"text",d=R(k,l,h,G(h),p?"":"textContent",
"textContent",d,d.parentElement),h=0,p=d.prototype.bindText.length;h<p;h++)0===d.prototype.bindText[h].indexOf(w)&&(l=new d(d.prototype.bindText[h]),d.prototype.bindText[h]=l,void 0===k[l.key]&&(k[l.key]=[]),l.id=k[l.key].length,k[l.key].push(l))}else for(var k=b[c],d=q,h=k.attributes,p=k instanceof HTMLUnknownElement,l=0,z=h.length;l<z;l++)if(h[l].value.match(new RegExp("(\\"+w.split("").join("\\")+")(.*?)(\\"+A.split("").join("\\")+")","g")))for(var m=R(d,p?"component":"attribute",h[l].value,G(h[l].value),
p?"":h[l].name,"value",h[l],k),v=0,r=m.prototype.bindText.length;v<r;v++)if(0===m.prototype.bindText[v].indexOf(w)){var n=new m(m.prototype.bindText[v]);m.prototype.bindText[v]=n;void 0===d[n.key]&&(d[n.key]=[]);d[n.key].push(n)}b[c].childNodes&&0!==b[c].childNodes.length&&f(b[c].childNodes)}}var q={};f(e.childNodes);return q};x.prototype.addFilter=function(e,f){void 0!==this.maps[e]&&this.maps[e].forEach(function(e){e.filters.push(f);e.refresh()});return this};x.prototype.removeFilter=function(e,
f){void 0!==this.maps[e]&&this.maps[e].forEach(function(m){m.filters.splice(this.maps[e].filters.indexOf(f),1);m.refresh()});return this};x.prototype.swapFilter=function(e,f,m){void 0!==this.maps[e]&&this.maps[e].forEach(function(b){b.filters.splice(this.maps[e].filters.indexOf(f),1,m);b.refresh()});return this};Object.defineProperties(x,{startChars:m(function(e){if(void 0===e)return w;w="string"===typeof e?e:w;return this}),endChars:m(function(e){if(void 0===e)return A;A="string"===typeof e?e:A;
return this}),pipeChars:m(function(e){if(void 0===e)return t;t="string"===typeof e?e:t;return this}),getUnknown:m(r),isRegistered:m(function(e){return void 0!==H[e]}),register:m(function(e,f){void 0===H[e]?(H[e]=f,r(f)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",e);return this}),addEventListener:m(function(e,f){void 0!==D[e]?D[e].push(f):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",e);return this}),
removeEventListener:m(function(e,f){if(void 0!==D[e])for(var m=0,b=D[e].length;m<b;m++)D[e][m].toString()===f.toString()&&D[e].splice(m,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",e);return this})});return x}}(function(){function B(){function x(c,b){var d=c.length,k;for(k=0;k<d&&(c[k](b),void 0===b._stopPropogation);k++);}function B(c,b){var d=c.length,k;for(k=0;k<d&&(b.child=b.target,b.target=c[k].parent,c[k].func(b),void 0===b._stopPropogation);k++);
}function n(c,b){for(var d=c.length;0<d;L++)if(c[L].toString()===b.toString())return!0;return!1}function y(c,b,d,k,h,e,l,f){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=d;this.oldValue=k;this.target=c;this.attr=b;this.arguments=h;this.action=e;this.child=void 0;this.type=l;this.stopChange=f}function u(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners=
{};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function f(c,b,d,k){var h=c.get,e=c.set,l;return function(c){l=h.call(this);d(this,b,c,l,void 0,this._stopChange)&&e.call(this,c);this._stopChange||k(this,b,c,l);this._stopChange=void 0}}function O(c,b,d,k){var h;return function(e){h=c.value;d(this,b,e,h,arguments,this._stopChange)&&(c.value=e);this._stopChange||k(this,b,e,h,arguments);this._stopChange=void 0}}function M(c,
b,d,k){var h=c.value,e;return function(){d(this,b,null,null,arguments,this._stopChange)&&(e=h.apply(this,arguments));this._stopChange||k(this,b,null,null,arguments,e);this._stopChange=void 0;return e}}function P(c,b,d,k,h){var e=h.style,l=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),f,m;return{get:function(){return m},set:function(c){f=m;d(h,b,c,f,void 0,this._stopChange)&&(m=c,e.setProperty(l,c));this._stopChange||k(h,b,c,f);this._stopChange=void 0},enumerable:!0,configurable:!0}}function J(c,
b,d,k){if("function"!==typeof b)return r;var h=-1!==["value","checked"].indexOf(c),e=-1!==D.indexOf(c),l;if(this.toString()!==r.toString())if(d){var f=this.querySelectorAll("*");d=f.length;for(var m,v=0;v<d;v++){m=f[v].attrListeners();if(h||"*"===c)void 0!==f[v].addInputBinding&&f[v].addInputBinding(),void 0!==f[v].addInputBoxBinding&&f[v].addInputBoxBinding();if(e)r.injectStyleProperty(f[v],c),l=k?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===c){l=k?"_parentStyleUpdateListeners":
"_parentStyleListeners";d=D.length;for(var q=0;q<d;q++)r.injectStyleProperty(f[v],D[q]);void 0===m[l]["*"]&&(m[l]["*"]=[]);m[l]["*"].push({parent:this,func:b})}l=k?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===m[l][c]&&(m[l][c]=[]);m[l][c].push({parent:this,func:b})}}else{m=this.attrListeners();if(e)l=k?"_styleUpdateListeners":"_styleListeners",r.injectStyleProperty(this,c);else{if(h||"*"===c)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();
if("*"===c){l=k?"_styleUpdateListeners":"_styleListeners";d=D.length;for(v=0;v<d;v++)r.injectStyleProperty(this,D[v]);void 0===m[l][c]&&(m[l][c]=[]);m[l][c].push(b)}l=k?"_attrUpdateListeners":"_attrListeners"}void 0===m[l][c]&&(m[l][c]=[]);m[l][c].push(b)}else{if(h||"*"===c)for(q=document.querySelectorAll("input, textarea"),d=q.length,v=0;v<d;v++)void 0!==q[v].addInputBinding&&q[v].addInputBinding(),void 0!==q[v].addInputBoxBinding&&q[v].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));
d=e.length+1;e.unshift(document.body);for(v=0;v<d;v++)r.injectStyleProperty(e[v],c);l=k?w:E}else{if("*"===c){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=e.length+1;h=D.length;e.unshift(document.body);for(v=0;v<d;v++)for(q=0;q<h;q++)r.injectStyleProperty(e[v],D[q]);l=k?w:E;void 0===l[c]&&(l[c]=[]);l[c].push(b)}l=k?C:H}void 0===l[c]&&(l[c]=[]);l[c].push(b)}}function G(c,b,d,k){function h(c,d){var e=d[c],k=e.length;for(f=0;f<k;f++)e[f].toString()===b.toString()&&e.splice(f,1)}
if("function"!==typeof b)return r;["value","checked"].indexOf(c);var e=-1!==D.indexOf(c),f;if(this.toString()!==r.toString())if(d){d=this.querySelectorAll("*");var m=d.length;e?(e=k?"_childStyleUpdateListeners":"_childStyleListeners",h(c,this.attrListeners()[e]),e=k?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===c&&(e=k?"_childStyleUpdateListeners":"_childStyleListeners",h(c,this.attrListeners()[e])),e=k?"_childAttrUpdateListeners":"_childAttrListeners",h(c,this.attrListeners()[e]),
e=k?"_parentAttrUpdateListeners":"_parentAttrListeners");for(f=0;f<m;f++){for(var q=d[f].attrListeners()[e][c],v=q.length,n=0;n<v;n++)q[n].isEqualNode(this)&&q.slice(n,1);if("*"===c)for(listenersStyle=k?"_parentStyleUpdateListeners":"_parentStyleListeners",q=d[f].attrListeners()[e][c],v=q.length,n=0;n<v;n++)q[n].isEqualNode(this)&&q.slice(n,1)}}else e?e=k?"_styleUpdateListeners":"_styleListeners":("*"===c&&(e=k?"_styleUpdateListeners":"_styleListeners",h(c,this.attrListeners()[e])),e=k?"_attrUpdateListeners":
"_attrListeners"),h(c,this.attrListeners()[e]);else e?e=k?w:E:("*"===c&&(e=k?w:E,h(c,e)),e=k?C:H),h(c,e)}function I(c,b){r.addAttrListener.call(this,c,b,!0);return this}function K(c,b){r.addAttrUpdateListener.call(this,c,b,!0);return this}function F(c,b){r.removeAttrListener.call(this,c,b,!0);return this}function N(c,b){r.removeAttrUpdateListener.call(this,c,b,!0);return this}function m(c,b,d){var e=this.attrListeners();"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(c){case "attr":if(n(e._attrListeners[b],
d))return!0;break;case "attrupdate":if(n(e._attrUpdateListeners[b],d))return!0}return!1}function Q(){this._stopChange=!0;return this}function r(){function c(c,b){var g,d=b.length;for(g=0;g<d;g++)-1===c.indexOf(b[g])&&c.push(b[g]);return c}function g(c,b){for(var g=Object.keys(c),d,e,k=0,h=g.length;k<h;k++)if(d=g[k],void 0===b[d])b[d]=c[d].slice();else for(var f=0,l=c[d].length;f<l;f++)e=c[d][f],b[d].push(e)}function d(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var d=b.target.attrListeners(),
e,k=["value","checked"],h=d._attrListeners,f=d._attrUpdateListeners,l=d._parentAttrListeners;e=d._parentAttrUpdateListeners;var m=!1;if(void 0!==H["*"]||void 0!==C["*"])m=!0;if(!0!==m&&void 0!==h["*"]||void 0!==f["*"]||void 0!==l["*"]||void 0!==e["*"])m=!0;if(!0!==m)for(var p=0;p<k.length;p++)if(void 0!==H[k[p]]||void 0!==C[k[p]]||void 0!==h[k[p]]||void 0!==f[k[p]]||void 0!==l[k[p]]||void 0!==e[k[p]]){m=!0;break}e=m;k=Object.keys(E);h=Object.keys(w);Object.keys(d._styleListeners);Object.keys(d._styleUpdateListeners);
f=Object.keys(d._parentStyleListeners);d=Object.keys(d._parentStyleUpdateListeners);l=[];if(0!==k.length||0!==h.length)l=c(l,k),l=c(l,h);if(0!==l.length&&0!==f.length||0!==d.length)l=c(l,f),l=c(l,d);-1!==l.indexOf("*")&&(l=D);var d=l,k=d.length,q,n,h=[],F,f="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,l=b.target;void 0!==f&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(e){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?
(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));F=h.length;for(var t=0;t<F;t++)void 0!==h[t].addInputBinding&&h[t].addInputBinding(),void 0!==h[t].addInputBoxBinding&&h[t].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),
h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("*"));e=b.target.__kb._parentAttrListeners;m=b.target.__kb._parentAttrUpdateListeners;p=b.target.__kb._parentStyleListeners;q=b.target.__kb._parentStyleUpdateListeners;F=h.length;for(t=0;t<F;t++){if(0!==k)for(n=0;n<k;n++)r.injectStyleProperty(h[t],d[n]);n=h[t].attrListeners();g(e,n._parentAttrListeners);g(m,n._parentAttrUpdateListeners);g(p,n._parentStyleListeners);g(q,n._parentStyleUpdateListeners)}void 0!==f&&(b.attr=
f,b.target=l,b.arguments=[])}}function e(c){var b=c.target.attributes[c.arguments[0]],d="setAttribute"===c.attr?c.arguments[1]:"";f(c.target,c.arguments[0],d,void 0!==b?b.value:"",[d])||c.preventDefault()}function h(c){var b=c.target.attributes[c.arguments[0]],d="setAttribute"===c.attr?c.arguments[1]:"";l(c.target,c.arguments[0],d,void 0!==b?b.value:"",[d])}r.injectPrototypes(Node,"Node");r.injectPrototypes(Element,"Element");r.injectPrototypes(HTMLElement,"HTMLElement");r.injectPrototypes(HTMLInputElement,
"HTMLInputElement");r.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");r.injectPrototypes(Document,"Document");var f=q,l=b;r.addAttrUpdateListener("appendChild",d);r.addAttrUpdateListener("removeChild",d);r.addAttrUpdateListener("innerHTML",d);r.addAttrUpdateListener("outerHTML",d);r.addAttrUpdateListener("innerText",d);r.addAttrUpdateListener("outerText",d);r.addAttrUpdateListener("textContent",d);r.addAttrListener("setAttribute",e);r.addAttrListener("removeAttribute",e);r.addAttrUpdateListener("setAttribute",
h);r.addAttrUpdateListener("removeAttribute",h);return r}var H={},C={},E={},w={},A={},t="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),D=Object.getOwnPropertyNames(document.body.style),e=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}).concat(["addEventListener","removeEventListener"]),L,q=function(c,b,d,e,h,f){d=new y(c,b,d,e,h,void 0,"set",f);void 0!==c.__kb&&(e=c.__kb._attrListeners,
h=c.__kb._styleListeners,f=c.__kb._parentAttrListeners,c=c.__kb._parentStyleListeners,void 0!==e[b]&&x(e[b],d),void 0===d._stopPropogation&&void 0!==h[b]&&x(h[b],d),void 0===d._stopPropogation&&void 0!==e["*"]&&(x(e["*"],d),void 0===d._stopPropogation&&x(h["*"],d)),void 0===d._stopPropogation&&void 0!==f[b]&&B(f[b],d),void 0===d._stopPropogation&&void 0!==c[b]&&B(c[b],d),void 0===d._stopPropogation&&void 0!==f["*"]&&(B(f["*"],d),void 0===d._stopPropogation&&B(c["*"],d)));void 0===d._stopPropogation&&
void 0!==H[b]&&x(H[b],d);void 0===d._stopPropogation&&void 0!==E[b]&&x(E[b],d);void 0===d._stopPropogation&&void 0!==H["*"]&&(x(H["*"],d),void 0===d._stopPropogation&&x(E["*"],d));return void 0!==d._preventDefault?!1:!0},b=function(c,b,d,e,h,f){d=new y(c,b,d,e,h,f,"update");void 0!==c.__kb&&(e=c.__kb._attrUpdateListeners,h=c.__kb._styleUpdateListeners,f=c.__kb._parentAttrUpdateListeners,c=c.__kb._parentStyleUpdateListeners,void 0!==e[b]&&x(e[b],d),void 0===d._stopPropogation&&void 0!==h[b]&&x(h[b],
d),void 0===d._stopPropogation&&void 0!==e["*"]&&(x(e["*"],d),void 0===d._stopPropogation&&x(h["*"],d)),void 0===d._stopPropogation&&void 0!==f[b]&&B(f[b],d),void 0===d._stopPropogation&&void 0!==c[b]&&B(c[b],d),void 0===d._stopPropogation&&void 0!==f["*"]&&(B(f["*"],d),void 0===d._stopPropogation&&B(c["*"],d)));void 0===d._stopPropogation&&void 0!==C[b]&&x(C[b],d);void 0===d._stopPropogation&&void 0!==w[b]&&x(w[b],d);void 0===d._stopPropogation&&void 0!==C["*"]&&(x(C["*"],d),void 0===d._stopPropogation&&
x(w["*"],d));return void 0!==d._preventDefault?!1:!0};r.injectPrototypeProperty=function(c,g,d,e,h){var p=c.prototype,l=Object.getOwnPropertyDescriptor(p,g);d=d||c.toString().split(/\s+/)[1].split("{")[0].replace("()","");var n=A[d];e=e||q;h=h||b;void 0===p.attrListeners&&(p={},p.attrListeners=function(){void 0===this.__kb&&(this.__kb=new u);return this.__kb}.bind(p),p.addAttrListener=r.addAttrListener,p.addAttrUpdateListener=r.addAttrUpdateListener,p.addChildAttrListener=I,p.addChildAttrUpdateListener=
K,p.hasListener=m,p.removeAttrListener=r.removeAttrListener,p.removeAttrUpdateListener=r.removeAttrUpdateListener,p.removeChildAttrListener=F,p.removeChildAttrUpdateListener=N,p.stopChange=Q);void 0===n&&(A[d]={obj:c,proto:p,descriptors:{},set:void 0,update:void 0},n=A[d],n.set=e,n.update=h);void 0===n.descriptors[g]&&(n.descriptors[g]=l);l.configurable&&(void 0!==l.set?Object.defineProperty(p,g,{get:l.get,set:f(l,g,e,h),enumerable:!0,configurable:!0}):"function"===typeof l.value?Object.defineProperty(p,
g,{value:M(l,g,e,h),writable:!0,enumerable:!0,configurable:!0}):void 0!==l.value&&Object.defineProperty(p,g,{get:function(){return l.value},set:O(l,g,e,h),enumerable:!0,configurable:!0}));return r};r.injectStyleProperty=function(c,g,d,e){var h=c.style,f=Object.getOwnPropertyDescriptor(h,g),l=c.attrListeners().injectedStyle;d=d||q;e=e||b;void 0===l&&(c.attrListeners().injectedStyle={obj:c,proto:h,descriptors:{},set:void 0,update:void 0},c.attrListeners().injectedStyle.set=d,c.attrListeners().injectedStyle.update=
e,l=c.attrListeners().injectedStyle);void 0===l.descriptors[g]&&(l.descriptors[g]=f);f.configurable&&Object.defineProperty(h,g,P(f,g,d,e,c));return r};r.injectPrototypes=function(c,g,d,e){var h=c.prototype;g=g||c.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=A[g],l=Object.getOwnPropertyNames(h);d=d||q;e=e||b;var n;void 0===h.attrListeners&&(h.attrListeners=function(){void 0===this.__kb&&(this.__kb=new u);return this.__kb},h.addAttrListener=r.addAttrListener,h.addAttrUpdateListener=
r.addAttrUpdateListener,h.addChildAttrListener=I,h.addChildAttrUpdateListener=K,h.removeAttrListener=r.removeAttrListener,h.removeAttrUpdateListener=r.removeAttrUpdateListener,h.removeChildAttrListener=F,h.removeChildAttrUpdateListener=N,h.hasListener=m,h.stopChange=Q);void 0===f&&(A[g]={obj:c,proto:h,descriptors:{},set:void 0,update:void 0},f=A[g],f.set=d,f.update=e);n=A[g].descriptors;for(e=0;e<l.length;e+=1)void 0===n[l[e]]&&r.injectPrototypeProperty(c,l[e],g,d,b);if(-1!==l.indexOf("value")){var t=
function(c){var b,d,e;if("checkbox"===this.type||"radio"===this.type)b=!0;d=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){e=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;b&&(f.set(this,"checked",this.checked,d)?f.update(this,"checked",this.checked,d):n.checked.set.call(this,d));this.value=e;f.set(this,"value",this.value,d)?f.update(this,"value",this.checked,d):n.value.set.call(this,d)}.bind(this),0)};
h.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",t)};h.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",t)};h.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",t)};h.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",t)}}return r};r.addAttrListener=function(c,b,d){if("html"===c){c=0;for(var f=
t.length;c<f;c++)J.call(this,t[c],b,d,!1)}else if("events"===c)for(c=0,f=e.length;c<f;c++)J.call(this,e[c],b,d,!1);else J.call(this,c,b,d,!1);return this};r.addAttrUpdateListener=function(b,g,d){if("html"===b){b=0;for(var f=t.length;b<f;b++)J.call(this,t[b],g,d,!0)}else if("events"===b)for(b=0,f=e.length;b<f;b++)J.call(this,e[b],g,d,!0);else J.call(this,b,g,d,!0);return this};r.removeAttrListener=function(b,g,d){if("html"===b){b=0;for(var f=t.length;b<f;b++)G.call(this,t[b],g,d,!1)}else if("events"===
b)for(b=0,f=e.length;b<f;b++)G.call(this,e[b],g,d,!1);else G.call(this,b,g,d,!1);return this};r.removeAttrUpdateListener=function(b,g,d){if("html"===b){b=0;for(var f=t.length;b<f;b++)G.call(this,t[b],g,d,!0)}else if("events"===b)for(b=0,f=e.length;b<f;b++)G.call(this,e[b],g,d,!0);else G.call(this,b,g,d,!0);return this};r.hasListener=function(b,e,d){"html"===e&&(e="innerHTML");"events"===e&&(e="onclick");switch(b){case "attr":if(n(H[e],d))return!0;break;case "attrupdate":if(n(C[e],d))return!0}return!1};
r.injectedPrototypes=function(){return A};return r}"function"===typeof define&&define.amd&&define("KB",B);return B}()),S=function(B,x,R){return function(){function n(F,N,m,x){function r(e,f,m,b,c){for(var g=O({},e),d=0,k=Object.keys(f.prototype),h=k.length;d<h;d++)g.__proto__[k[d]]=f.prototype[k[d]];d=0;k=Object.keys(b);for(h=k.length;d<h;d++)g.set(k[d],b[k[d]]);if(b.pointers)for(d=0,k=Object.keys(b.pointers),h=k.length;d<h;d++)g.addPointer(b.pointers[k[d]],k[d]);f.apply(g,m);d=0;k=Object.keys(c);
for(h=k.length;d<h;d++)g.set(k[d],c[k[d]]);if(c.pointers)for(d=0,k=Object.keys(c.pointers),h=k.length;d<h;d++)g.addPointer(c.pointers[k[d]],k[d]);if(g.sessionStorage){if(f=sessionStorage.getItem(g.id||e))for(f=JSON.parse(f),d=0,k=Object.keys(f),h=k.length;d<h;d++)g.set(k[d],f[k[d]]);else sessionStorage.setItem(g.id||e,g.stringify());g.addChildDataUpdateListener("*",function(){sessionStorage.setItem(g.id||e,g.stringify())})}if(g.localStorage){if(f=localStorage.getItem(g.id||e))for(f=JSON.parse(f),
d=0,k=Object.keys(f),h=k.length;d<h;d++)g.set(k[d],f[k[d]]);else localStorage.setItem(g.id||e,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||e,g.stringify())})}g.store&&P.set(g.id||e,g);return g}function B(e,m,q){e.kb_viewmodel=q;Object.keys(m).forEach(function(b){m[b].forEach(function(b){switch(b.type){case "for":b.connect(q);M.isRegistered(b.component)?b.loop(function(b){n(b)}):(n.loadWaitList(b.component,function(e,d){b.loop(function(b){n(b)})}),n.loadWaitList(b.component).loading||
(n.loadWaitList(b.component).loading=!0,f(b.component)));break;case "component":b.connect(q).deleteMap();break;default:b.connect(q)}})})}function C(e,f){w=new M(f);Object.defineProperty(w.wrapper,"__kbcomponenttree",u(f.kb_mapper?f.kb_mapper.__kbcomponenttree:[]));f.parentElement.replaceChild(w.fragment,f);N.unshift(w.wrapper);B(w.wrapper,w.maps,r(e,J[e],N,t,D));if(-1===w.wrapper.__kbcomponenttree.indexOf(e)||w.wrapper.kb_viewmodel.multiple){w.wrapper.__kbcomponenttree.push(e);for(var m=w.wrapper.querySelectorAll("*"),
b=0,c=m.length;b<c;b++)m[b]instanceof HTMLUnknownElement&&n(m[b])}else console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",e),console.error("Recursive Component %o on %o",w.wrapper,w.wrapper.parentElement),w.wrapper.parentElement.removeChild(w.wrapper)}
var E=F.tagName.toLowerCase(),w,A=Object.keys(HTMLElement.prototype).filter(function(e){return 0===e.indexOf("on")}),t={},D={};void 0===N&&(N=[]);m&&y(m,t);Object.defineProperty(t,"id",u(t.id||E+"-"+Date.now(),!0));Object.defineProperty(t,"filters",u(t.filters||{}));"string"===typeof t.sessionStorage&&(t.sessionStorage="true"===t.sessionStorage);Object.defineProperty(t,"sessionStorage",u(void 0!==t.sessionStorage?t.sessionStorage:!1,!0));"string"===typeof t.localStorage&&(t.localStorage="true"===
t.localStorage);Object.defineProperty(t,"localStorage",u(void 0!==t.localStorage?t.localStorage:!1,!0));"string"===typeof t.store&&(t.store="true"===t.store);Object.defineProperty(t,"store",u(void 0!==t.store?t.store:!1,!0));"string"===typeof t.multiple&&(t.multiple="true"===t.multiple);Object.defineProperty(t,"multiple",u(void 0!==t.multiple?t.multiple:!1,!0));x&&y(x,D);D.innerHTML=F.innerHTML.toString();m=0;for(x=F.attributes.length;m<x;m++)D[F.attributes[m].name]=F.attributes[m].value;m=0;for(x=
A.length;m<x;m++)F[A[m]]&&(D[A[m]]=F[A[m]]);F.k_post&&y(F.k_post,D);M.isRegistered(E)?C(E,F):(n.loadWaitList(E,function(e,f){C(E,F)}),n.loadWaitList(E).loading||(n.loadWaitList(E).loading=!0,f(E)))}function y(f,n){var m=Object.keys(f);n.pointers||(n.pointers={});for(var u=0,r=m.length;u<r;u++)f.isObservable(m[u])?n.pointers[m[u]]=f:f[m[u]].isMixed()?n.pointers[m[u]]=f[m[u]].__kbImmediateParent:n[m[u]]=f[m[u]]}function u(f,n,m){return{value:f,writable:!!n,enumerable:!1,configurable:!!m}}window.K_Components||
(window.K_Components={});var f=x().onLoad(function(f,u){var m="<style>"+unescape(u.prototype.k_css)+"</style>"+unescape(u.prototype.k_html);n.register(f,u,m,u.prototype.cms);n.loadWaitList(f).forEach(function(m){m(f,u)});n.loadWaitList(f,"clear")}),O=B(),M=R(),P=O({},"Model"),J={},G=function(){return window.location.search.replace("?","").split("&").filter(function(f){return 0!==f.length}).reduce(function(f,n){f[n.split("=")[0]]=n.split("=")[1];return f},{})}(),I={},K;n.register=function(f,u,m,x){M.register(f,
m);J[f]=u;return n};n.loadWaitList=function(f,u){if("undefined"===typeof u&&f)return I[f];if(f){if(void 0===I[f]||"clear"===u){var m=void 0===I[f]?!1:!!I[f].loading;I[f]=[];I[f].loading=m}"function"===typeof u&&I[f].push(u)}return n};n.localRouting=function(f){f?(K=Node.prototype.appendChild,Node.prototype.appendChild=function(f){if("script"===f.tagName.toLowerCase()){f.src=f.src.substring(0,-1!==f.src.indexOf("?")?f.src.indexOf("?"):f.src.length);var m=f.src.match(/(.*?component\/)/);m&&(G.env||
(G.env="prod"),"dev"===G.env&&(G.env="qa"),m=f.src.replace(m[0],"").replace(/[\/\s]/g,""),f.src="/components/"+m+"/build/"+G.env+"/"+m+(G.debug&&"prod"!==G.env?"":".min")+".js",arguments[0]=f)}return K.apply(this,arguments)}):K&&(Node.prototype.appendChild=K,K=null);return n};return n}}(T,U,V);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return S}):"undefined"!==typeof module&&(module.exports=S);return S}();
