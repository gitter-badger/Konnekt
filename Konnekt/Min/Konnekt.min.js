var Konnekt=function(){var U=function(){return function(H,x,C,n){function q(c,b,g,p){c=void 0===c?{}:c;var k={};if("undefined"===typeof Proxy)return console.error("There is no support for proxies! This library can not be used here, please update Your js library or browser");var m=new Proxy(k,{set:S,deleteProperty:R}),d=Object.keys(c,"all");Object.defineProperties(k,{__kbname:e("string"===typeof b?b:"default",!0,!0),__kbref:e(g?g.__kbref||g:m,!0,!0),__kbscopeString:e(p||"",!0,!0),__kbImmediateParent:e(g||
null,!0,!0),__kbsubscribers:e({}),__kblisteners:e({}),__kbupdatelisteners:e({}),__kbparentlisteners:e({}),__kbparentupdatelisteners:e({}),__kbcreatelisteners:e([]),__kbdeletelisteners:e([]),__kbparentcreatelisteners:e([]),__kbparentdeletelisteners:e([]),__kbpointers:e({}),__kbevents:e(L),length:e(0,!0),__kbnonproxy:e(k,!1,!0)});b=0;for(g=d.length;b<g;b++)m[d[b]]=c[d[b]];k.__proto__=q.prototype;k.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]])b.local.__kbpointers[b.arguments[0]][b.arguments[2]](b.arguments[0],
b.arguments[1])}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]])b.local.__kbpointers[b.arguments[0]][b.arguments[2]](b.arguments[0],b.arguments[1])});return m}function u(c,b,g,p,k,m,d,h){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=c;this.key=b;this.arguments=m;this.type=this.event=g;this.listener=d;this.name=c.__kbname;this.root=c.__kbref;
this.scope=c.__kbscopeString;this.parent=c.___kbImmediateParent;this.value=p;this.oldValue=k;this.stopChange=h}function e(c,b,g){return{value:c,writable:!!b,enumerable:!1,configurable:!!g}}function M(c,b,g){return{get:function(){return c.call(this)},set:function(g){b&&(c=g)},enumerable:!1,configurable:!!g}}function O(c,b){var g=b,p=b;return{get:function(){return g},set:function(b){var m=new u(this,c,"set",b,g,arguments,"__kblisteners",this._stopChange);!0!==f(m)&&(p=g,g=b,m.stopChange||(m.listener=
"__kbupdatelisteners",m.type="postset",f(m)),this._stopChange||this.callSubscribers(c,g,p));this._stopChange=void 0},configurable:!0,enumerable:!0}}function N(c,b,g){return{get:function(){return c[b]},set:function(g){(this._stopChange?c.stopChange():c)[b]=g;this._stopChange=void 0},enumerable:g.enumerable,configurable:g.configurable}}function F(c,b){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",
action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],p=[],k,m=0,d=g.length;m<d;m++)if(k=c[g[m].listener],J.call(k))for(var p=Object.keys(k),h=0,t=p.length;h<t;h++)for(var f=0,e=k[p[h]].length;f<e;f++)b[g[m].method](p[h],k[p[h]][f]);else for(h=0,t=k.length;h<t;h++)b[g[m].method](k[h])}function y(c,b){var g=[{listeners:"__kblisteners",method:"addDataListener"},{listeners:"__kbupdatelisteners",method:"addDataUpdateListener"}],p=[],k;if(c[b].__kbImmediateParent)for(var m=
0,d=g.length;m<d;m++){k=c[g[m].listener];for(var p=Object.keys(k),h=0,t=p.length;h<t;h++)if(b===p[m])for(var f=0,e=k[p[m]].length;f<e;f++)void 0===c[b].__kbImmediateParent[g[m].listener][b]&&(c[b].__kbImmediateParent[g[m].listener][b]=[]),c[b].__kbImmediateParent[g[m].listener][b].push(k[p[m]][f])}F(c,c[b])}function P(c,b,g,p){g=new q(g,c.__kbname,c,c.__kbscopeString+(0!==c.__kbscopeString.length?".":"")+b);F(c,g);if(p){p=new u(c,b,"create",g,void 0,[],"__kbcreatelisteners",c._stopChange);var k=f(p);
!0!==k&&(Object.defineProperty(c,b,O(b,g)),p.listener="__kbupdatelisteners",p.type="postcreate",f(p));return!0!==k}Object.defineProperty(c,b,O(b,g));return!0}function D(c,b,g,p){if(p){p=new u(c,b,"create",g,void 0,[],"__kbcreatelisteners",c._stopChange);var k=f(p);if(!0!==k){var m=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,b);Object.defineProperty(c,b,N(g.__kbImmediateParent,b,m));c.__kbpointers.push(b);y(c,b);p.listener="__kbupdatelisteners";p.type="postcreate";f(p)}return!0!==k}m=Object.getOwnPropertyDescriptor(g.__kbImmediateParent,
b);Object.defineProperty(c,b,N(g.__kbImmediateParent,b,m));c.__kbpointers.push(b);y(c,b);return!0}function S(c,b,g){if(G.call(c,b)){if("length"===b)if(g>c.length&&void 0!==c[g-1])c.length=g;else{if(g<c.length){b=g;for(var p=c.length;b<p;b++)c[b]&&delete c[b];c.length=g}}else{if("object"===typeof g)return P(c,b,g);if(g instanceof q)return D(c,b,g);c[b]=g}return!0}isNaN(parseInt(b,10))||(b=parseInt(b,10),c.length<=b&&(c.length=b+1));if(c._stopChange)return c[b]=g,!0;if(-1===d.indexOf(b)){if("object"===
typeof g)return P(c,b,g,!0);if(g instanceof q)return D(c,b,g,!0);var p=new u(c,b,"create",g,void 0,[],"__kbcreatelisteners",c._stopChange),k=f(p);!0!==k&&(Object.defineProperty(c,b,O(b,g)),p.listener="__kbupdatelisteners",p.type="postcreate",f(p));return!0!==k}}function R(c,b){var g=new u(c,b,"delete",c[b],void 0,[],"__kbdeletelisteners",c._stopChange),p=f(g);!0!==p&&("object"===typeof c[b]&&(c[b]=null),delete c[b],g.listener="__kbupdatelisteners",g.type="postdelete",f(g));return!0!==p}function J(c){return this==
Object.prototype&&void 0===c?console.error("No value specified in Object.prototype.isObject to check"):"object"===Object.prototype["typeof"](void 0!==c?"object"===typeof c?c:this[c]:this)}function Q(c){return this==Object.prototype&&void 0===c?console.error("No value specified in Object.prototype.isArray to check"):"array"===Object.prototype["typeof"](void 0!==c?"object"===typeof c?c:this[c]:this)}function r(c){return this==Object.prototype&&void 0===c?console.error("No value specified in Object.prototype.isMixed to check"):
"mixed"===Object.prototype["typeof"](void 0!==c?"object"===typeof c?c:this[c]:this)}function G(c,b){if(this==Object.prototype&&void 0===c&&void 0===b)return console.error("No object and property specified in Object.prototype.isObservable to check");if(void 0===c)return console.error("No property specified in isObservable to check");var g=Object.getOwnPropertyDescriptor(void 0!==c&&"string"!==typeof c?c:this,void 0!==b?b:c);return g?void 0===g.value:!1}function A(c){return c.split(".")}function K(c,
b){return function(g,p){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var k=this[b],m=new u(this,b,"addlistener",k,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(k=A(g),k.pop(),k.join("."),m.local=this.getLayer(k),k=m.local[b],m.value=k,g=A(g).pop());!0!==f(m)&&(J.call(k)?(void 0===k[g]&&(k[g]=[]),k[g].push(p),m.type="postaddlistener",f(m)):Q.call(k)&&"function"===typeof g&&(k.push(g),m.type="postaddlistener",f(m)));return this}}function B(c,b){return function(g,p){arguments=
Array.prototype.slice.call(arguments);arguments.push(c);var k=this[b],m=new u(this,b,"removelistener",k,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(k=A(g),k.pop(),k.join("."),m.local=this.getLayer(k),k=m.local[b],m.value=k,g=A(g).pop());if(!0!==f(m))if(J.call(k)){if(void 0!==k[g])for(var d=0,h=k[g].length;d<h;d++)if(k[g][d].toString()===p.toString()){k[g].splice(d,1);m.type="postremovelistener";f(m);break}}else if(Q.call(k)&&"function"===typeof g)for(d=0,h=k.length;d<h;d++)if(k[d].toString()===
p.toString()){k.splice(d,1);m.type="postremovelistener";f(m);break}return this}}function w(c,b){function g(b,c,m){var d=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),h=this,t=b;"string"===typeof b&&1!==A(b).length&&(h=A(b),t=h.pop(),h.join("."),h=this.getLayer(h),void 0===h[m][b]&&(h[m][b]=[]),h[m][b].push(c));J.call(h[m])?(void 0===h[m][t]&&(h[m][t]=[]),h[m][t].push(c),void 0!==h.__kbpointers[t]&&(void 0===h.__kbpointers[t][t]&&(h.__kbpointers[t][t]=[]),h.__kbpointers[t][t].push(_func))):
h[m].push(c);t=0;for(h=d.length;t<h;t++)g.call(this[d[t]],b,c,m)}return function(p,k){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var d=new u(this,b,"addchildlistener",void 0,void 0,arguments,"");!0!==f(d)&&(g.call(this,p,k,b),d.type="postaddchildlistener",f(d));return this}}function I(c,b){function g(b,c,d){var l=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),h=this,t=b;if("string"===typeof b&&1!==A(b).length&&(h=A(b),t=h.pop(),h.join("."),h=
this.getLayer(h),void 0!==h[d][b]))for(var f=0,e=h[d][b].length;f<e;f++)if(h[d][b][f].toString()===c.toString()){h[d][b].splice(f,1);break}if(J.call(h[d])){if(void 0!==h[d][t]){f=0;for(e=h[d][t].length;f<e;f++)if(h[d][t][f].toString()===c.toString()){h[d][t].splice(f,1);break}if(-1!==h.__kbpointers.indexOf(t)&&void 0!==h[t].__kbImmediateParent[d][t])for(f=0,e=h[t].__kbImmediateParent[d][t].length;f<e;f++)if(h[t].__kbImmediateParent[d][t][f].toString()===c.toString()){h[t].__kbImmediateParent[d][t].splice(f,
1);break}}}else for(f=0,e=h[d].length;f<e;f++)if(h[d][f].toString()===c.toString()){h[d].splice(f,1);break}f=0;for(e=l.length;f<e;f++)g.call(this[l[f]],b,c,d)}return function(p,d){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var m=new u(this,b,"removechildlistener",void 0,void 0,arguments,"");!0!==f(m)&&(g.call(this,p,d,b),m.type="postremovechildlistener",f(m));return this}}var L={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],
postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},d=[],v=function(c,b){if(!b._stopPropogration&&c)for(var g=0,p=c.length;g!==p&&(c[g](b),!b._stopPropogration);g++);},f=function(c){if(c.listener){var b=c.local[c.listener],g=c.local[c.listener.replace("__kb",
"__kbparent")];J.call(b)?(v(b[c.key],c),v(b["*"],c)):v(b,c);J.call(g)?(v(g[c.key],c),v(g["*"],c)):v(g,c)}v(c.local.__kbref.__kbevents[c.type],c);return c._preventDefault};Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof q?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(c,b){return Object._keys(c).filter(function(g){return b&&
"object"!==b&&"o"!==b?"all"===b?!0:!isNaN(parseInt(g,10)):isNaN(parseInt(g,10))})};Object.defineProperties(Object.prototype,{"typeof":e(function(c){return{}.toString.call(c).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},!1,!0),sizeof:e(function(c){function b(c){for(var d=Object.keys(c,"all"),m=0,f=void 0,h=0,t=d.length;h<t;h++)f=c[d[h]],"object"===typeof f&&void 0!==f&&null!==f?-1===g.indexOf(f)&&(g.push(f),m+=b(f)):"string"===typeof f?m+=2*f.length:"number"===typeof f?m+=8:"boolean"===typeof f?m+=4:"function"===
typeof f&&(m+=2*f.toString().length),m+=2*d[h].length;return m}if(this==Object.prototype&&void 0===c)return console.error("No object specified in Object.prototype.sizeof");var g=[];return b(c||this)+" Bytes (Rough estimate)"},!1,!0),isObject:e(J,!1,!0),isArray:e(Q,!1,!0),isMixed:e(r,!1,!0),isObservable:e(G,!1,!0),stringify:e(function(c){if(this==Object.prototype&&void 0===c)return console.error("No object was specified in Object.prototype.stringify to stringify");var b=[];return JSON.stringify(this,
function(g,c){if(Q(c)||J(c)){if(-1!==b.indexOf(c))return;b.push(c)}return c})},!1,!0),getKeys:e(function(c,b){return this==Object.prototype&&void 0===c?console.error("No object was specified in Object.prototype.getkeys"):Object.keys(void 0!==c&&"string"!==typeof c?"object"===typeof c?c:this[c]:this)},!1,!0),getIndexes:e(function(c){if(this==Object.prototype&&void 0===c)return console.error("No object was specified in Object.prototype.getIndexes");var b=void 0!==c?"object"===typeof c?c:this[c]:this;
return b.slice().map(function(b,c){return c}).filter(function(g){return void 0!==b[g]})},!1,!0),keyCount:M(function(){return this.getKeys("o").length},!1,!0),indexCount:M(function(c){return this.length},!1,!0),count:M(function(c){return this.keyCount+this.indexCount},!1,!0)});Object.defineProperties(q.prototype,{concat:e(Array.prototype.concat),every:e(Array.prototype.every),filter:e(Array.prototype.filter),find:e(Array.prototype.find),findIndex:e(Array.prototype.findIndex),forEach:e(Array.prototype.forEach),
includes:e(Array.prototype.includes),indexOf:e(Array.prototype.indexOf),join:e(Array.prototype.join),lastIndexOf:e(Array.prototype.lastIndexOf),map:e(Array.prototype.map),reduce:e(Array.prototype.reduce),reduceRight:e(Array.prototype.reduceRight),slice:e(Array.prototype.slice),some:e(Array.prototype.some),entries:e(Array.prototype.entries),toLocaleString:e(Array.prototype.toLocaleString),add:e(function(c,b){"undefined"===this[c]&&(this[c]=b);return this}),set:e(function(c,b){this[c]=b;return this}),
del:e(function(c){void 0!==this[c]&&delete this[c];return this}),addPrototype:e(function(c,b){void 0===this[c]?Object.defineProperty(this.__proto__,c,e(b,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,this);return this}),addPointer:e(function(c,b){c instanceof q||(c=new q(c,c.__kbname,c,""));var g=Object.getOwnPropertyDescriptor(c,b);Object.defineProperty(this,b,N(c,b,g));this.__kbpointers[b]=c}),move:e(function(c,b){this[b]=c[b];c instanceof
q||(c[b]=null);delete c[b];return this}),copy:e(function(c,b){this[b]=c[b];return this}),merge:e(function(c){function b(c,d){for(var f=c instanceof q?c.keys("o"):Object.keys(c),l,h=0,t=f.length;h<t;h++)l=c[f[h]],"object"===typeof l&&-1===g.indexOf(l)&&"undefined"!==d[f[h]]?b(l,d):d[f[h]]=l}var g=[];b(c,this);return this}),copyWithin:e(function(c,b,g){b=b||0;g=g||0;var p=new u(this,c,"copyWithin",this[c],void 0,arguments,"");if(!0!==f(p)&&c<this.length){c=0>c?this.length-1:c;b=b<this.length?b:this.length-
1;g=g<this.length?g:this.length-1;b=0>b?this.length-1:b;g=0>b?this.length-1:g;for(var d=b;d<=g;d++)this[c+(d-b)]=this[d];p.type="postcopyWithin";f(p)}return this}),fill:e(function(c,b,g){b=void 0!==b?Math.max(0,b):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var p=new u(this,_start,"fill",this[_start],void 0,arguments,"");if(!0!==f(p)){for(var d=a.key;d<g;d++)this[d]=c;p.type="postfill";f(p)}return this}),pop:e(function(){var c=new u(this,this.length-1,"pop",this[this.length-
1],void 0,arguments,"");if(!0!==f(c)){var b=this[this.length-1];--this.length;c.type="postpop";f(c);return b}return null}),push:e(function(c){var b=new u(this,this.length,"push",c,void 0,arguments,"");!0!==f(b)&&(this[this.length]=c,b.type="postpush",f(b));return this.length}),reverse:e(function(){var c=new u(this,void 0,"reverse",void 0,void 0,arguments,"");if(!0!==f(c)){for(var b=this.slice().reverse(),g=0,p=this.length;g<p;g++)this[g]=b[g];c.type="postreverse";f(c)}return this}),shift:e(function(){var c=
new u(this,0,"shift",this[0],void 0,arguments,"");if(!0!==f(c)){for(var b=a.key,g=this.length-1;b<g;b++)this[b]=this[b+1];--this.length;c.type="postshift";f(c)}return null}),sort:e(function(){var c=new u(this,void 0,"sort",void 0,void 0,arguments,"");if(!0!==f(c)){for(var b=this.slice(),b=b.sort.apply(b,arguments),g=0,p=this.length;g<p;g++)this[g]=b[g];c.type="postsort";f(c)}return this}),splice:e(function(c,b,g){var p=new u(this,c,"splice",void 0,void 0,arguments,"");if(!0!==f(p)){var d=[],m=Array.prototype.slice.call(arguments,
2),l=m.length-2,h=0;if(0!==b&&void 0!==this[c-1+b])for(var t=0,e=b;t<e;t++){d.push(this[c+t]);for(var v=c+t,r=this.length-1;v<r;v++)this[v]=this[v+1];delete this[this.length-1]}if(0!==l)for(t=0,e=l;t<e;t++){h=c+Math.min(1,t);v=this.length;for(r=h;v>r;v--)this[v]=this[v-1];this[h]=m[t]}p.type="postsplice";p.listener="";f(p);return d}return[]}),unshift:e(function(){var c=new u(this,0,"unshift",this[0],void 0,arguments,"");if(!0!==f(c)){for(var b=Array.prototype.slice.call(arguments),g=this.length-1+
b.length,d=b.length;-1!==g;g--)this[g]=g<d?b[g]:this[g-b.length];c.type="postunshift";f(c)}return this.length}),getLayer:e(function(c){function b(c){var d=c[0];return r(this[d])?0!==c.length-1?(c.shift(),b.call(this[d],c)):this[d]:this}c=A(c);return b.call(this,c)}),ignoreCreate:e(function(c){-1===d.indexOf(c)&&d.push(c);return this}),addActionListener:e(function(c,b){void 0!==this.__kbref.__kbevents[c]&&this.__kbref.__kbevents[c].push(b);return this}),removeActionListener:e(function(c,b){if(void 0!==
this.__kbref.__kbevents[c])for(var g=0,d=this.__kbref.__kbevents[c];g<d;g++)if(this.__kbref.__kbevents[c][g].toString()===b.toString()){this.__kbref.__kbevents[c].splice(g,1);break}return this}),subscribe:e(function(c,b){void 0===this.__kbsubscribers[c]&&(this.__kbsubscribers[c]=[]);this.__kbsubscribers[c].push(b);return this}),unsubscribe:e(function(c,b){if(void 0!==this.__kbsubscribers[c])for(var g=0,d=this.__kbsubscribers[c].length;g<d;g++)if(this.__kbsubscribers[c][g].toString()===b.toString()){this.__kbsubscribers[c].splice(g,
1);break}return this}),callSubscribers:e(function(c,b,g){if(void 0!==this.__kbsubscribers[c])for(var d=0,k=this.__kbsubscribers[c].length;d<k;d++)this.__kbsubscribers[c].call(this,c,b,g);return this}),stopChange:e(function(){this._stopChange=!0;return this}),_stopChange:e(void 0,!0)});Object.defineProperties(q.prototype,{addDataListener:e(K("addDataListener","__kblisteners")),removeDataListener:e(B("removeDataListener","__kblisteners")),addDataUpdateListener:e(K("addDataUpdateListener","__kbupdatelisteners")),
removeDataUpdateListener:e(B("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:e(K("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:e(B("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:e(K("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:e(B("removeDataDeleteListener","__kbdeletelisteners")),addChildDataListener:e(w("addChildDataListener","__kbparentlisteners")),removeChildDataListener:e(I("removeChildDataListener",
"__kbparentlisteners")),addChildDataUpdateListener:e(w("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:e(I("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:e(w("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:e(I("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:e(w("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:e(I("removeChildDataDeleteListener",
"__kbparentdeletelisteners"))});return q}}(),V=function(){return function(){function H(n){if("object"===typeof n)for(var q=0,u=n.length;q<u;q++)K_Components[n[q]]?x(n[q],K_Components[n[q]],document.getElementById("script_"+n[q])):H.load(n[q],"component/"+n[q]+"/"+location.search,x);else"string"===typeof n&&(K_Components[n[q]]?x(n,K_Components[n],document.getElementById("script_"+n)):H.load(n,"component/"+n+"/"+location.search,x))}var x=function(){},C=/(<\/.*?>)/g;window.K_Components||(window.K_Components=
{});H.getUnknowns=function(n){var q=n.match(C);return q.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,e){return document.createElement(n)instanceof HTMLUnknownElement&&-1===q.indexOf(n,e+1)&&!K_Components[n]})};H.load=function(n,q,u){document.head.appendChild(function(e,n,q){var u=document.createElement("script");u.type="text/javascript";u.charset="utf-8";u.async=!0;u.src=n;u.id="script_"+e;u.onload=function(){q(e,K_Components[e],this)};return u}(n,q,u));return H};H.onLoad=function(n){if(void 0===
n)return x;x="function"===typeof n?n:x;return H};return H}}(),W=function(H){return function(){function x(d){var v=d.tagName.toLowerCase(),f=A[v],c=document.createElement("div");c.className=v+"__Wrapper";c.innerHTML=f;return{node:d,wrapper:c,unkowns:u(c.innerHTML),maps:G(c),unloaded:e(c.innerHTML)}}function C(d,e){this.preventDefault=function(){this._preventDefault=!0};this.stopPropagation=function(){this._stopPropogation=!0};this.type=d;this.data=e}function n(d){for(var e=L[d.type],f=0,c=e.length;f<
c&&(e[f](d),d._stopPropogation);f++);return d._preventDefault}function q(d,e,f){return{value:d,writable:!!e,enumerable:!1,configurable:!!f}}function u(d){var e=d.match(K);return e.map(function(d){return d.replace(/[<\/>]/g,"")}).filter(function(d,c){return document.createElement(d)instanceof HTMLUnknownElement&&-1===e.indexOf(d,c+1)})}function e(d){return u(d).filter(function(d,f){return void 0===A[d]})}function M(d,e,f,c,b,g,p,k,m,l,h){this.text=d;this.texts=e;this.bindTexts=f;this.type=c;this.binds=
b;this.filters=g;this.target=p;this.prop=k;this.element=m;this.listener=h;this.parent=l}function O(d,e,f,c,b){this.key=d;this.text=e;this.value=f;this.filters=c}function N(d){return d.split(new RegExp("("+B.split("").join("\\")+")(.*?)("+w.split("").join("\\")+")","g")).map(function(d,f,c){return c[f-1]===B?B+d+w:d}).filter(function(d,f,c){return 0!==d.length&&d!==B&&d!==w&&0!==d.length})}function F(d){return d.split(new RegExp("("+B.split("").join("\\")+")(.*?)("+w.split("").join("\\")+")","g")).filter(function(d,
f,c){return d!==B&&d!==w})}function y(d){return d.split(new RegExp("("+B.split("").join("\\")+")(.*?)("+w.split("").join("\\")+")","g")).filter(function(d,f,c){return c[f-1]===B})}function P(d){return d.replace(new RegExp("\\"+I.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function D(d){return-1!==d.indexOf(I)?d.replace(new RegExp("(.*?)(\\"+I.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function S(d){if(-1!==d.indexOf("for")){var e=d.replace(/\s/g,"").split(/for(.*?)loop/).filter(function(d){return 0!==
d.length});return{key:e[0],component:P(e[1]),filters:D(d)}}return null}function R(d){function e(f){for(var c=[],b=0,g=f.length;b<g;b++)void 0===f[b].kb_maps&&(f[b].kb_mapper=d,c=3===f[b].nodeType?c.concat(r(f[b])):c.concat(Q(f[b])),f[b].childNodes&&0!==f[b].childNodes.length&&(c=c.concat(e(f[b].childNodes))));return c}return e(d.childNodes)}function J(d){for(var e=0,f=d.length;e<f;e++)null===d[e].element.parentElement&&(f=new C("unsync",d[e]),n(f),d.splice(e,1),f=d.length);return d}function Q(d){for(var e=
d.attributes,f=d instanceof HTMLUnknownElement,c=[],b=0,g=e.length;b<g;b++)if(e[b].value.match(new RegExp("(\\"+B.split("").join("\\")+")(.*?)(\\"+w.split("").join("\\")+")","g"))){var p=y(e[b].value),k=N(e[b].value),m=F(e[b].value),l=new C("mapper",{}),h=new M(e[b].value,k,[],f?"component":"attribute",{},{},f?void 0:e[b],e[b].name,f?d.parentElement:d,f?void 0:d.parentElement,f?void 0:e[b].name);h.binds=p.reduce(function(b,c,g,d){l.type="map";l.data=new O(P(c),c,"",D(c),h);m[m.indexOf(c)]=l.data;
!0!==n(l)&&(b[l.data.key]=l.data);return b},{});h.bindTexts=m;l.type="mapper";l.data=h;!0!==n(l)&&c.push(l.data)}f&&(d.kb_maps=c);return c}function r(d){if(d.textContent.match(new RegExp("(\\"+B.split("").join("\\")+")(.*?)(\\"+w.split("").join("\\")+")","g"))){var e=y(d.textContent),f=N(d.textContent),c=F(d.textContent),b=new C("mapper",{});if(1===e.length&&-1!==e[0].indexOf("for"))b.data=new M(d.textContent,f,[],"for",S(e[0]),{},d,void 0,d,d.parentElement);else{var g=new M(d.textContent,f,[],"text",
{},{},d,"textContent",d,d.parentElement,"textContent");g.binds=e.reduce(function(d,k,f,e){b.type="map";b.data=new O(P(k),k,"",D(k),g);c[c.indexOf(k)]=b.data;!0!==n(b)&&(d[P(k)]=b.data);return d},{});g.bindTexts=c;b.type="mapper";b.data=g}if(!0!==n(b))return[b.data]}return[]}function G(d){function e(b){b.stopChange?(b.child._stopChange=void 0,b.stopChange=void 0):"replaceWith"!==b.attr?0!==b.child.children.length?b.preventDefault():"textContent"!==b.attr&&(b.preventDefault(),"innerHTML"===b.attr&&
(b.child.textContent=b.value)):b.child instanceof HTMLUnknownElement||b.preventDefault()}d.addAttrListener("html",e).addChildAttrListener("html",e).addChildAttrUpdateListener("html",function(b){J(d.kb_maps)}).addChildAttrListener("events",function(b){b.target.getAttribute(b.attr)&&(b.preventDefault(),b.target.setAttribute(b.attr.replace("on","")))});Object.defineProperty(d,"kb_maps",q(R(d)));for(var f=0,c=d.kb_maps.length;f<c;f++)(function(b){switch(d.kb_maps[b].type){case "text":d.kb_maps[b].parent.addAttrUpdateListener("html",
function(c){void 0===d.kb_maps[b].element.parentElement?(c=new C("unsync",binds[f]),n(c),d.kb_maps.splice(b,1)):1!==d.kb_maps[b].element.childNodes.length&&(c.map=d.kb_maps[b],c=new C("update",c),n(c))});d.kb_maps[b].element.addAttrUpdateListener(d.kb_maps[b].listener,function(c){c.map=d.kb_maps[b];c=new C("update",c);n(c)});break;case "attribute":0===d.kb_maps[b].listener.indexOf("on")&&(d.kb_maps[b].element.setAttribute(d.kb_maps[b].listener.replace("on",""),d.kb_maps[b].element.getAttribute(d.kb_maps[b].listener)),
d.kb_maps[b].element.removeAttribute(d.kb_maps[b].listener),d.kb_maps[b].listener=d.kb_maps[b].listener.replace("on","")),d.kb_maps[b].element.addAttrUpdateListener(d.kb_maps[b].listener,function(c){c.map=d.kb_maps[b];c=new C("update",c);n(c)})}})(f);return d.kb_maps}var A={},K=/(<\/.*?>)/g;H().call();var B="{{",w="}}",I="|",L={mapper:[],unsync:[],map:[],update:[]};Object.defineProperties(x,{getUnkownTemplates:q(u),getUnregisteredTenplates:q(e),isRegistered:q(function(d){return void 0!==A[d]}),register:q(function(d,
e){void 0===A[d]?A[d]=e:console.error("A template with the name",d," already exists");return u(e)}),getTemplate:q(function(d){return A[d]})});Object.defineProperties(x,{startChars:q(function(d){if(void 0===d)return B;B="string"===typeof d&&d!==w?d:B;return this}),endChars:q(function(d){if(void 0===d)return w;w="string"===typeof d&&d!==B?d:w;return this}),pipeChars:q(function(d){if(void 0===d)return I;I="string"===typeof d&&d!==B&&d!==w?d:I;return this}),checkUnsynced:q(J),mapTemplate:q(G),mapNode:q(R)});
return x}}(function(){function H(){function x(b,c){var d=b.length,k;for(k=0;k<d&&(b[k](c),void 0===c._stopPropogation);k++);}function C(b,c){var d=b.length,k;for(k=0;k<d&&(c.child=c.target,c.target=b[k].parent,b[k].func(c),void 0===c._stopPropogation);k++);}function n(b,c){for(var d=b.length;0<d;v++)if(b[v].toString()===c.toString())return!0;return!1}function q(b,c,d,k,e,f,h,t){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=
d;this.oldValue=k;this.target=b;this.attr=c;this.arguments=e;this.action=f;this.child=void 0;this.type=h;this.stopChange=t}function u(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function e(b,c,d,k){var e=b.get,f=b.set,h;return function(b){h=e.call(this);d(this,c,b,h,void 0,this._stopChange)&&
f.call(this,b);this._stopChange||k(this,c,b,h);this._stopChange=void 0}}function H(b,c,d,k){var e;return function(f){e=b.value;d(this,c,f,e,arguments,this._stopChange)&&(b.value=f);this._stopChange||k(this,c,f,e,arguments);this._stopChange=void 0}}function O(b,c,d,k){var e=b.value,f;return function(){d(this,c,null,null,arguments,this._stopChange)&&(f=e.apply(this,arguments));this._stopChange||k(this,c,null,null,arguments,f);this._stopChange=void 0;return f}}function N(b,c,d,f,e){var l=e.style,h=c.replace(/([A-Z])/g,
"-$1").replace("webkit","-webkit"),t,r;return{get:function(){return r},set:function(b){t=r;d(e,c,b,t,void 0,this._stopChange)&&(r=b,l.setProperty(h,b));this._stopChange||f(e,c,b,t);this._stopChange=void 0},enumerable:!0,configurable:!0}}function F(b,c,d,e){if("function"!==typeof c)return r;var f=-1!==["value","checked"].indexOf(b),l=-1!==L.indexOf(b),h;if(this.toString()!==r.toString())if(d){var t=this.querySelectorAll("*");d=t.length;for(var n,z=0;z<d;z++){n=t[z].attrListeners();if(f||"*"===b)void 0!==
t[z].addInputBinding&&t[z].addInputBinding(),void 0!==t[z].addInputBoxBinding&&t[z].addInputBoxBinding();if(l)r.injectStyleProperty(t[z],b),h=e?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===b){h=e?"_parentStyleUpdateListeners":"_parentStyleListeners";d=L.length;for(var E=0;E<d;E++)r.injectStyleProperty(t[z],L[E]);void 0===n[h]["*"]&&(n[h]["*"]=[]);n[h]["*"].push({parent:this,func:c})}h=e?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===n[h][b]&&(n[h][b]=[]);n[h][b].push({parent:this,
func:c})}}else{n=this.attrListeners();if(l)h=e?"_styleUpdateListeners":"_styleListeners",r.injectStyleProperty(this,b);else{if(f||"*"===b)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===b){h=e?"_styleUpdateListeners":"_styleListeners";d=L.length;for(z=0;z<d;z++)r.injectStyleProperty(this,L[z]);void 0===n[h][b]&&(n[h][b]=[]);n[h][b].push(c)}h=e?"_attrUpdateListeners":"_attrListeners"}void 0===n[h][b]&&(n[h][b]=[]);n[h][b].push(c)}else{if(f||
"*"===b)for(E=document.querySelectorAll("input, textarea"),d=E.length,z=0;z<d;z++)void 0!==E[z].addInputBinding&&E[z].addInputBinding(),void 0!==E[z].addInputBoxBinding&&E[z].addInputBoxBinding();if(l){l=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=l.length+1;l.unshift(document.body);for(z=0;z<d;z++)r.injectStyleProperty(l[z],b);h=e?B:K}else{if("*"===b){l=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=l.length+1;f=L.length;l.unshift(document.body);for(z=0;z<
d;z++)for(E=0;E<f;E++)r.injectStyleProperty(l[z],L[E]);h=e?B:K;void 0===h[b]&&(h[b]=[]);h[b].push(c)}h=e?A:G}void 0===h[b]&&(h[b]=[]);h[b].push(c)}}function y(b,c,d,e){function f(b,d){var e=d[b],p=e.length;for(h=0;h<p;h++)e[h].toString()===c.toString()&&e.splice(h,1)}if("function"!==typeof c)return r;["value","checked"].indexOf(b);var l=-1!==L.indexOf(b),h;if(this.toString()!==r.toString())if(d){d=this.querySelectorAll("*");var t=d.length;l?(l=e?"_childStyleUpdateListeners":"_childStyleListeners",
f(b,this.attrListeners()[l]),l=e?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===b&&(l=e?"_childStyleUpdateListeners":"_childStyleListeners",f(b,this.attrListeners()[l])),l=e?"_childAttrUpdateListeners":"_childAttrListeners",f(b,this.attrListeners()[l]),l=e?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<t;h++){for(var n=d[h].attrListeners()[l][b],z=n.length,E=0;E<z;E++)n[E].isEqualNode(this)&&n.slice(E,1);if("*"===b)for(listenersStyle=e?"_parentStyleUpdateListeners":
"_parentStyleListeners",n=d[h].attrListeners()[l][b],z=n.length,E=0;E<z;E++)n[E].isEqualNode(this)&&n.slice(E,1)}}else l?l=e?"_styleUpdateListeners":"_styleListeners":("*"===b&&(l=e?"_styleUpdateListeners":"_styleListeners",f(b,this.attrListeners()[l])),l=e?"_attrUpdateListeners":"_attrListeners"),f(b,this.attrListeners()[l]);else l?l=e?B:K:("*"===b&&(l=e?B:K,f(b,l)),l=e?A:G),f(b,l)}function P(b,c){r.addAttrListener.call(this,b,c,!0);return this}function D(b,c){r.addAttrUpdateListener.call(this,b,
c,!0);return this}function S(b,c){r.removeAttrListener.call(this,b,c,!0);return this}function R(b,c){r.removeAttrUpdateListener.call(this,b,c,!0);return this}function J(b,c,d){var e=this.attrListeners();"html"===c&&(c="innerHTML");"events"===c&&(c="onclick");switch(b){case "attr":if(n(e._attrListeners[c],d))return!0;break;case "attrupdate":if(n(e._attrUpdateListeners[c],d))return!0}return!1}function Q(){this._stopChange=!0;return this}function r(){function b(b,c){var d,g=c.length;for(d=0;d<g;d++)-1===
b.indexOf(c[d])&&b.push(c[d]);return b}function d(b,c){for(var g=Object.keys(b),e,f,p=0,h=g.length;p<h;p++)if(e=g[p],void 0===c[e])c[e]=b[e].slice();else for(var k=0,m=b[e].length;k<m;k++)f=b[e][k],c[e].push(f)}function e(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var f=c.target.attrListeners(),p,h=["value","checked"],k=f._attrListeners,m=f._attrUpdateListeners,l=f._parentAttrListeners;p=f._parentAttrUpdateListeners;var n=!1;if(void 0!==G["*"]||void 0!==A["*"])n=!0;if(!0!==n&&void 0!==k["*"]||
void 0!==m["*"]||void 0!==l["*"]||void 0!==p["*"])n=!0;if(!0!==n)for(var q=0;q<h.length;q++)if(void 0!==G[h[q]]||void 0!==A[h[q]]||void 0!==k[h[q]]||void 0!==m[h[q]]||void 0!==l[h[q]]||void 0!==p[h[q]]){n=!0;break}p=n;h=Object.keys(K);k=Object.keys(B);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);m=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);l=[];if(0!==h.length||0!==k.length)l=b(l,h),l=b(l,k);if(0!==l.length&&0!==m.length||0!==f.length)l=
b(l,m),l=b(l,f);-1!==l.indexOf("*")&&(l=L);var f=l,h=f.length,v,y,k=[],u,m="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,l=c.target;void 0!==m&&(c.attr="appendChild",c.arguments=[c.target],c.target=c.target.parentElement);if(p){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||k.unshift(c.arguments[0])):k=
Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));u=k.length;for(var w=0;w<u;w++)void 0!==k[w].addInputBinding&&k[w].addInputBinding(),void 0!==k[w].addInputBoxBinding&&k[w].addInputBoxBinding()}"appendChild"===c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("*"));p=c.target.__kb._parentAttrListeners;
n=c.target.__kb._parentAttrUpdateListeners;q=c.target.__kb._parentStyleListeners;v=c.target.__kb._parentStyleUpdateListeners;u=k.length;for(w=0;w<u;w++){if(0!==h)for(y=0;y<h;y++)r.injectStyleProperty(k[w],f[y]);y=k[w].attrListeners();d(p,y._parentAttrListeners);d(n,y._parentAttrUpdateListeners);d(q,y._parentStyleListeners);d(v,y._parentStyleUpdateListeners)}void 0!==m&&(c.attr=m,c.target=l,c.arguments=[])}}function k(b){var c=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:
"";l(b.target,b.arguments[0],d,void 0!==c?c.value:"",[d])||b.preventDefault()}function m(b){var c=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:"";h(b.target,b.arguments[0],d,void 0!==c?c.value:"",[d])}r.injectPrototypes(Node,"Node");r.injectPrototypes(Element,"Element");r.injectPrototypes(HTMLElement,"HTMLElement");r.injectPrototypes(HTMLInputElement,"HTMLInputElement");r.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");r.injectPrototypes(Document,"Document");
var l=f,h=c;r.addAttrUpdateListener("appendChild",e);r.addAttrUpdateListener("removeChild",e);r.addAttrUpdateListener("innerHTML",e);r.addAttrUpdateListener("outerHTML",e);r.addAttrUpdateListener("innerText",e);r.addAttrUpdateListener("outerText",e);r.addAttrUpdateListener("textContent",e);r.addAttrListener("setAttribute",k);r.addAttrListener("removeAttribute",k);r.addAttrUpdateListener("setAttribute",m);r.addAttrUpdateListener("removeAttribute",m);return r}var G={},A={},K={},B={},w={},I="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
L=Object.getOwnPropertyNames(document.body.style),d=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}).concat(["addEventListener","removeEventListener"]),v,f=function(b,c,d,e,f,l){d=new q(b,c,d,e,f,void 0,"set",l);void 0!==b.__kb&&(e=b.__kb._attrListeners,f=b.__kb._styleListeners,l=b.__kb._parentAttrListeners,b=b.__kb._parentStyleListeners,void 0!==e[c]&&x(e[c],d),void 0===d._stopPropogation&&void 0!==f[c]&&x(f[c],d),void 0===d._stopPropogation&&void 0!==e["*"]&&(x(e["*"],
d),void 0===d._stopPropogation&&x(f["*"],d)),void 0===d._stopPropogation&&void 0!==l[c]&&C(l[c],d),void 0===d._stopPropogation&&void 0!==b[c]&&C(b[c],d),void 0===d._stopPropogation&&void 0!==l["*"]&&(C(l["*"],d),void 0===d._stopPropogation&&C(b["*"],d)));void 0===d._stopPropogation&&void 0!==G[c]&&x(G[c],d);void 0===d._stopPropogation&&void 0!==K[c]&&x(K[c],d);void 0===d._stopPropogation&&void 0!==G["*"]&&(x(G["*"],d),void 0===d._stopPropogation&&x(K["*"],d));return void 0!==d._preventDefault?!1:
!0},c=function(b,c,d,e,f,l){d=new q(b,c,d,e,f,l,"update");void 0!==b.__kb&&(e=b.__kb._attrUpdateListeners,f=b.__kb._styleUpdateListeners,l=b.__kb._parentAttrUpdateListeners,b=b.__kb._parentStyleUpdateListeners,void 0!==e[c]&&x(e[c],d),void 0===d._stopPropogation&&void 0!==f[c]&&x(f[c],d),void 0===d._stopPropogation&&void 0!==e["*"]&&(x(e["*"],d),void 0===d._stopPropogation&&x(f["*"],d)),void 0===d._stopPropogation&&void 0!==l[c]&&C(l[c],d),void 0===d._stopPropogation&&void 0!==b[c]&&C(b[c],d),void 0===
d._stopPropogation&&void 0!==l["*"]&&(C(l["*"],d),void 0===d._stopPropogation&&C(b["*"],d)));void 0===d._stopPropogation&&void 0!==A[c]&&x(A[c],d);void 0===d._stopPropogation&&void 0!==B[c]&&x(B[c],d);void 0===d._stopPropogation&&void 0!==A["*"]&&(x(A["*"],d),void 0===d._stopPropogation&&x(B["*"],d));return void 0!==d._preventDefault?!1:!0};r.injectPrototypeProperty=function(b,d,p,k,m){var l=b.prototype,h=Object.getOwnPropertyDescriptor(l,d);p=p||b.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var n=w[p];k=k||f;m=m||c;void 0===l.attrListeners&&(l={},l.attrListeners=function(){void 0===this.__kb&&(this.__kb=new u);return this.__kb}.bind(l),l.addAttrListener=r.addAttrListener,l.addAttrUpdateListener=r.addAttrUpdateListener,l.addChildAttrListener=P,l.addChildAttrUpdateListener=D,l.hasListener=J,l.removeAttrListener=r.removeAttrListener,l.removeAttrUpdateListener=r.removeAttrUpdateListener,l.removeChildAttrListener=S,l.removeChildAttrUpdateListener=R,l.stopChange=Q);void 0===n&&(w[p]={obj:b,
proto:l,descriptors:{},set:void 0,update:void 0},n=w[p],n.set=k,n.update=m);void 0===n.descriptors[d]&&(n.descriptors[d]=h);h.configurable&&(void 0!==h.set?Object.defineProperty(l,d,{get:h.get,set:e(h,d,k,m),enumerable:!0,configurable:!0}):"function"===typeof h.value?Object.defineProperty(l,d,{value:O(h,d,k,m),writable:!0,enumerable:!0,configurable:!0}):void 0!==h.value&&Object.defineProperty(l,d,{get:function(){return h.value},set:H(h,d,k,m),enumerable:!0,configurable:!0}));return r};r.injectStyleProperty=
function(b,d,e,k){var m=b.style,l=Object.getOwnPropertyDescriptor(m,d),h=b.attrListeners().injectedStyle;e=e||f;k=k||c;void 0===h&&(b.attrListeners().injectedStyle={obj:b,proto:m,descriptors:{},set:void 0,update:void 0},b.attrListeners().injectedStyle.set=e,b.attrListeners().injectedStyle.update=k,h=b.attrListeners().injectedStyle);void 0===h.descriptors[d]&&(h.descriptors[d]=l);l.configurable&&Object.defineProperty(m,d,N(l,d,e,k,b));return r};r.injectPrototypes=function(b,d,e,k){var m=b.prototype;
d=d||b.toString().split(/\s+/)[1].split("{")[0].replace("()","");var l=w[d],h=Object.getOwnPropertyNames(m);e=e||f;k=k||c;var n;void 0===m.attrListeners&&(m.attrListeners=function(){void 0===this.__kb&&(this.__kb=new u);return this.__kb},m.addAttrListener=r.addAttrListener,m.addAttrUpdateListener=r.addAttrUpdateListener,m.addChildAttrListener=P,m.addChildAttrUpdateListener=D,m.hasListener=J,m.stopChange=Q);void 0===l&&(w[d]={obj:b,proto:m,descriptors:{},set:void 0,update:void 0},l=w[d],l.set=e,l.update=
k);n=w[d].descriptors;for(k=0;k<h.length;k+=1)void 0===n[h[k]]&&r.injectPrototypeProperty(b,h[k],d,e,c);if(-1!==h.indexOf("value")){var q=function(b){var c,d,e;if("checkbox"===this.type||"radio"===this.type)c=!0;d=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){e=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;c&&(l.set(this,"checked",this.checked,d)?l.update(this,"checked",this.checked,d):n.checked.set.call(this,
d));this.value=e;l.set(this,"value",this.value,d)?l.update(this,"value",this.checked,d):n.value.set.call(this,d)}.bind(this),0)};m.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",q)};m.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",q)};m.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",q)};m.addInputBoxBinding=function(){this.attrListeners()._onmousedown=
!0;this.addEventListener("mouseup",q)}}return r};r.addAttrListener=function(b,c,e){if("html"===b){b=0;for(var f=I.length;b<f;b++)F.call(this,I[b],c,e,!1)}else if("events"===b)for(b=0,f=d.length;b<f;b++)F.call(this,d[b],c,e,!1);else F.call(this,b,c,e,!1);return this};r.addAttrUpdateListener=function(b,c,e){if("html"===b){b=0;for(var f=I.length;b<f;b++)F.call(this,I[b],c,e,!0)}else if("events"===b)for(b=0,f=d.length;b<f;b++)F.call(this,d[b],c,e,!0);else F.call(this,b,c,e,!0);return this};r.removeAttrListener=
function(b,c,e){if("html"===b){b=0;for(var f=I.length;b<f;b++)y.call(this,I[b],c,e,!1)}else if("events"===b)for(b=0,f=d.length;b<f;b++)y.call(this,d[b],c,e,!1);else y.call(this,b,c,e,!1);return this};r.removeAttrUpdateListener=function(b,c,e){if("html"===b){b=0;for(var f=I.length;b<f;b++)y.call(this,I[b],c,e,!0)}else if("events"===b)for(b=0,f=d.length;b<f;b++)y.call(this,d[b],c,e,!0);else y.call(this,b,c,e,!0);return this};r.hasListener=function(b,c,d){"html"===c&&(c="innerHTML");"events"===c&&(c=
"onclick");switch(b){case "attr":if(n(G[c],d))return!0;break;case "attrupdate":if(n(A[c],d))return!0}return!1};r.injectedPrototypes=function(){return w};return r}"function"===typeof define&&define.amd&&define("KB",H);return H}()),T=function(H,x,C){return function(){function n(y,x,D,C){function H(n,r,q,y,u){var d=e({},n);d.ignoreCreate("__proto__");d.__proto__=r.prototype;for(var v=0,f=Object.keys(y),c=f.length;v<c;v++)d.isObservable(y,f[v])?d.addPointer(y,f[v]):d.add(f[v],y[f[v]]);r.apply(d,q);v=
0;f=Object.keys(u);for(c=f.length;v<c;v++)d.isObservable(u,f[v])?(void 0!==d[f[v]]&&d.remove(f[v]),d.addPointer(u,f[v])):d.set(f[v],u[f[v]]);if(d.sessionStorage){if(r=sessionStorage.getItem(d.id||n))for(r=JSON.parse(r),v=0,f=Object.keys(r),c=f.length;v<c;v++)d.set(f[v],r[f[v]]);else sessionStorage.setItem(d.id||n,d.stringify());d.addChildDataUpdateListener("*",function(){sessionStorage.setItem(d.id||n,d.stringify())})}if(d.localStorage){if(r=localStorage.getItem(d.id||n))for(r=JSON.parse(r),v=0,f=
Object.keys(r),c=f.length;v<c;v++)d.set(f[v],r[f[v]]);else localStorage.setItem(d.id||n,d.stringify());d.addChildDataUpdateListener("*",function(){localStorage.setItem(d.id||n,d.stringify())})}d.store&&O.set(d.id||n,d);return d}function J(e,n){r=M(n);n.replaceWith(r.wrapper);var q=H(e,N[e],x,D,C);r.wrapper.kb_viewmodel=q;console.log(Object.keys(q))}var F=y.tagName.toLowerCase(),r;void 0===x&&(x=[]);void 0===D&&(D={});D.filters||Object.defineProperty(D,"filters",q({}));D.sessionStorage||Object.defineProperty(D,
"sessionStorage",q(!1,!0));D.localStorage||Object.defineProperty(D,"localStorage",q(!1,!0));D.store||Object.defineProperty(D,"store",q(!1,!0));D.multiple||Object.defineProperty(D,"multiple",q(!1,!0));void 0===C&&(C={});C.innerhtml=y.innerHTML;for(var G=0,A=y.attributes.length;G<A;G++)-1===["id","class"].indexOf(y.attributes[G].name)&&(C[y.attributes[G].name]=y.attributes[G].value);M.isRegistered(F)?J(F,y):(n.loadWaitList(F,function(e,n){J(F,y)}),u(F))}function q(e,n,q){return{value:e,writable:!!n,
enumerable:!1,configurable:!!q}}window.K_Components||(window.K_Components={});var u=x().onLoad(function(e,q){n.register(e,q,"<style>"+q.prototype.k_css+"</style>"+q.prototype.k_html,q.prototype.cms);n.loadWaitList(e)(e,q);n.loadWaitList(e,function(){})}),e=H(),M=C(),O=e({},"Model"),N={};(function(){return window.location.search.replace("?","").split("&").filter(function(e){return 0!==e.length}).reduce(function(e,n){e[n.split("=")[0]]=n.split("=")[1];return e},{})})();var F={};n.register=function(e,
q,u,x){M.register(e,u);N[e]=q;return n};n.loadWaitList=function(e,q){if("undefined"===typeof q&&e)return F[e];e&&(F[e]="function"===typeof q?q:F[e]);return n};return n}}(U,V,W);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return T}):"undefined"!==typeof module&&(module.exports=T);return T}();
